<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#dfefff" />
  <title>MedSpecAPP v5.0</title>
  <style>
    :root {
      --bg: #cfe6ff;
      --surface: rgba(255, 255, 255, 0.56);
      --surface-elevated: rgba(255, 255, 255, 0.76);
      --surface-pressed: rgba(255, 255, 255, 0.92);
      --text-primary: #10213f;
      --text-secondary: #3d5883;
      --accent: #2f7bff;
      --accent-2: #58c8ff;
      --accent-soft: rgba(47, 123, 255, 0.18);
      --danger: #e65f7a;
      --success: #26a96f;
      --warning: #ca9241;
      --border-soft: rgba(255, 255, 255, 0.58);
      --shadow-soft: 0 12px 30px rgba(34, 85, 145, 0.22);
      --radius-large: 24px;
      --radius-medium: 16px;
      --space-xs: 8px;
      --space-sm: 12px;
      --space-md: 18px;
      --space-lg: 24px;
    }

    :root[data-theme="dark"] {
      --bg: #0a1530;
      --surface: rgba(26, 39, 74, 0.58);
      --surface-elevated: rgba(34, 51, 93, 0.78);
      --surface-pressed: rgba(43, 63, 109, 0.9);
      --text-primary: #ecf4ff;
      --text-secondary: #a7bbde;
      --accent: #66a1ff;
      --accent-2: #3fd7ff;
      --accent-soft: rgba(102, 161, 255, 0.2);
      --danger: #ff7793;
      --success: #4fd59c;
      --warning: #e0b15f;
      --border-soft: rgba(140, 175, 235, 0.26);
      --shadow-soft: 0 14px 36px rgba(2, 7, 19, 0.5);
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      height: 100%;
      min-height: 100dvh;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", Arial, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }

    body {
      display: grid;
      grid-template-rows: auto minmax(0, 1fr);
      overflow: hidden;
      min-height: 100dvh;
      background:
        radial-gradient(circle at 15% -5%, color-mix(in srgb, var(--accent-2) 26%, transparent), transparent 34%),
        radial-gradient(circle at 88% -8%, color-mix(in srgb, var(--accent) 24%, transparent), transparent 36%),
        var(--bg);
      transition: background-color .26s ease, color .26s ease;
    }

    .glass {
      backdrop-filter: blur(20px) saturate(1.2);
      -webkit-backdrop-filter: blur(20px) saturate(1.2);
      background: var(--surface);
      border: 1px solid var(--border-soft);
      box-shadow: 0 10px 24px color-mix(in srgb, #000 30%, transparent);
    }

    .app-header {
      position: sticky;
      top: 0;
      z-index: 90;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-sm);
      padding: max(10px, env(safe-area-inset-top)) var(--space-md) var(--space-sm);
      border-bottom: 1px solid color-mix(in srgb, var(--border-soft) 70%, transparent);
      background: color-mix(in srgb, var(--surface) 82%, transparent);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      cursor: pointer;
      user-select: none;
    }

    .logo {
      width: 38px;
      height: 38px;
      border-radius: 12px;
      display: grid;
      place-items: center;
      color: #fff;
      font-weight: 900;
      background: linear-gradient(155deg, var(--accent), var(--accent-2));
      box-shadow: 0 10px 24px color-mix(in srgb, var(--accent) 35%, transparent);
    }

    .brand h1 { margin: 0; font-size: 18px; letter-spacing: .2px; }
    .subhead { margin-top: 2px; font-size: 12px; color: var(--text-secondary); }

    .pill {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: var(--surface-elevated);
      padding: 8px 12px;
      font-size: 12px;
      color: var(--text-secondary);
      white-space: nowrap;
    }

    .app-layout {
      min-height: 0;
      min-width: 0;
      height: 100%;
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: minmax(0, 1fr);
      position: relative;
    }

    .sidebar {
      display: none;
      margin: var(--space-md);
      margin-right: 0;
      padding: var(--space-sm);
      border-radius: 24px;
      gap: var(--space-xs);
      height: fit-content;
      position: sticky;
      top: calc(var(--space-md) + env(safe-area-inset-top));
    }

    #view-container {
      min-height: 0;
      min-width: 0;
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      padding: var(--space-lg) var(--space-md) calc(88px + env(safe-area-inset-bottom));
      padding-bottom: calc(88px + env(safe-area-inset-bottom));
      display: block;
      scrollbar-width: thin;
      scrollbar-color: color-mix(in srgb, var(--accent) 34%, transparent) transparent;
    }

    #view-container::-webkit-scrollbar { width: 10px; }
    #view-container::-webkit-scrollbar-thumb {
      background: color-mix(in srgb, var(--accent) 35%, transparent);
      border-radius: 999px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }

    .view {
      display: grid;
      gap: var(--space-lg);
      animation: viewIn .24s ease;
      width: min(980px, 100%);
      margin: 0 auto;
    }

    @keyframes viewIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .card {
      border-radius: var(--radius-large);
      padding: var(--space-lg);
      transition: transform .18s ease, background-color .2s ease;
    }

    @media (hover:hover) {
      .card:hover { transform: translateY(-1px); }
    }

    .hero {
      position: relative;
      overflow: hidden;
      background:
        radial-gradient(circle at 100% 0%, color-mix(in srgb, var(--accent-2) 26%, transparent), transparent 45%),
        radial-gradient(circle at 0% 0%, color-mix(in srgb, var(--accent) 28%, transparent), transparent 50%),
        var(--surface);
    }

    .hero::after {
      content: "";
      position: absolute;
      width: 130px;
      height: 130px;
      right: -30px;
      top: -30px;
      border-radius: 30px;
      background: linear-gradient(155deg, color-mix(in srgb, var(--accent) 40%, transparent), color-mix(in srgb, var(--accent-2) 40%, transparent));
      filter: blur(6px);
      opacity: .7;
      pointer-events: none;
    }

    .hero h2,
    .card h2,
    .card h3,
    .card p { margin: 0; }

    .muted { color: var(--text-secondary); }
    .stack { display: grid; gap: var(--space-sm); }

    .btn {
      min-height: 46px;
      border-radius: 16px;
      border: 1px solid transparent;
      background: var(--surface-elevated);
      color: var(--text-primary);
      font-weight: 700;
      padding: 12px 14px;
      cursor: pointer;
      transition: transform .12s ease, background-color .2s ease, border-color .2s ease;
    }

    .btn:active { transform: scale(.985); }
    .btn.primary {
      color: #fff;
      background: linear-gradient(145deg, var(--accent), var(--accent-2));
      box-shadow: 0 8px 20px color-mix(in srgb, var(--accent) 28%, transparent);
    }

    .btn.soft {
      border-color: color-mix(in srgb, var(--accent) 32%, transparent);
      background: var(--accent-soft);
    }

    .btn.ghost { border-color: var(--border-soft); }

    .btn-row {
      display: grid;
      gap: var(--space-sm);
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .grid {
      display: grid;
      gap: var(--space-sm);
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .stat {
      border-radius: var(--radius-medium);
      padding: var(--space-sm);
      border: 1px solid var(--border-soft);
      background: var(--surface-elevated);
      display: grid;
      gap: 4px;
    }

    .stat-k { font-size: 12px; color: var(--text-secondary); }
    .stat-v { font-size: 21px; font-weight: 800; }

    .chips { display: flex; flex-wrap: wrap; gap: var(--space-xs); }

    .chip {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: color-mix(in srgb, var(--surface-elevated) 78%, transparent);
      padding: 6px 10px;
      font-size: 12px;
      color: var(--text-secondary);
    }

    .study-grid {
      display: grid;
      gap: var(--space-md);
      align-items: start;
    }

    .question-card {
      border-radius: var(--radius-large);
      padding: var(--space-lg);
      border: 1px solid var(--border-soft);
      background:
        radial-gradient(circle at 95% 0%, color-mix(in srgb, var(--accent-2) 17%, transparent), transparent 44%),
        radial-gradient(circle at 5% 0%, color-mix(in srgb, var(--accent) 14%, transparent), transparent 44%),
        var(--surface);
      box-shadow: var(--shadow-soft);
      display: grid;
      gap: var(--space-md);
    }

    .quiz-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-sm);
    }

    .quiz-counter { font-size: 13px; font-weight: 700; color: var(--text-secondary); }

    .timer {
      min-width: 78px;
      justify-content: center;
      color: var(--text-primary);
      font-weight: 800;
    }

    .question-title {
      margin: 0;
      font-size: clamp(18px, 2.7vw, 24px);
      line-height: 1.34;
    }

    .answers { display: grid; gap: var(--space-md); }

    .answer-btn {
      min-height: 50px;
      border-radius: 18px;
      border: 1px solid var(--border-soft);
      background: color-mix(in srgb, var(--surface-elevated) 86%, transparent);
      color: var(--text-primary);
      padding: 14px;
      text-align: left;
      font-weight: 700;
      cursor: pointer;
      transition: transform .12s ease, background-color .2s ease, border-color .2s ease;
    }

    .answer-btn:active { transform: scale(.99); }
    .answer-btn.selected {
      border-color: color-mix(in srgb, var(--accent) 48%, transparent);
      background: color-mix(in srgb, var(--accent-soft) 34%, var(--surface-elevated));
      transform: scale(1.01);
    }
    .answer-btn.good {
      background: color-mix(in srgb, var(--success) 24%, var(--surface-elevated));
      border-color: color-mix(in srgb, var(--success) 50%, transparent);
    }
    .answer-btn.bad {
      background: color-mix(in srgb, var(--danger) 24%, var(--surface-elevated));
      border-color: color-mix(in srgb, var(--danger) 46%, transparent);
    }

    .answer-btn:disabled { opacity: .9; cursor: default; }

    .progress {
      height: 10px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: color-mix(in srgb, var(--surface-elevated) 90%, transparent);
      overflow: hidden;
    }

    .progress span {
      display: block;
      height: 100%;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      transition: width .2s ease;
    }

    .feedback { min-height: 22px; font-size: 13px; color: var(--text-secondary); }

    .anti-panic .question-title { font-size: clamp(20px, 3vw, 27px); line-height: 1.42; }
    .anti-panic .answer-btn { font-size: 16px; padding: 16px; }

    .row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-sm);
      border-radius: 14px;
      border: 1px solid var(--border-soft);
      background: var(--surface-elevated);
      padding: 11px 12px;
    }

    .toggle {
      width: 56px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: linear-gradient(160deg, color-mix(in srgb, var(--surface-pressed) 90%, transparent), color-mix(in srgb, var(--surface) 92%, transparent));
      position: relative;
      cursor: pointer;
      flex: 0 0 auto;
      box-shadow: inset 0 1px 4px rgba(0,0,0,.12);
      transition: background-color .2s ease, border-color .2s ease, box-shadow .2s ease;
    }

    .toggle::after {
      content: "";
      position: absolute;
      left: 3px;
      top: 3px;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: linear-gradient(160deg, #ffffff, #dbe9ff);
      box-shadow: 0 2px 6px rgba(0,0,0,.22);
      transition: transform .22s ease;
    }

    .toggle[aria-checked="true"] {
      background: linear-gradient(145deg, var(--accent), var(--accent-2));
      border-color: color-mix(in srgb, var(--accent) 48%, transparent);
      box-shadow: 0 8px 16px color-mix(in srgb, var(--accent) 26%, transparent);
    }
    .toggle[aria-checked="true"]::after { transform: translateX(24px); }

    .focus-wrap { display:grid; gap:6px; }
    .focus-head { display:flex; justify-content:space-between; font-size:12px; color:var(--text-secondary); }
    .focus-bar { height:8px; border-radius:999px; border:1px solid var(--border-soft); background:var(--surface-elevated); overflow:hidden; }
    .focus-bar span { display:block; height:100%; width:0; background:linear-gradient(90deg,var(--accent-2),var(--accent)); transition:width .24s ease; }

    .radar-wrap { display:grid; gap:var(--space-sm); }
    .radar-svg { width:100%; max-width:280px; margin:0 auto; display:block; }
    .radar-grid { stroke: color-mix(in srgb, var(--text-secondary) 40%, transparent); fill:none; stroke-width:1; }
    .radar-area { fill: color-mix(in srgb, var(--accent) 28%, transparent); stroke: var(--accent); stroke-width:2; }
    .radar-point { fill: var(--accent-2); }


    .theme-switch {
      width: 74px;
      height: 34px;
      padding: 0;
      overflow: hidden;
      border-radius: 999px;
    }
    .theme-switch::after { display:none; }
    .theme-switch .switch-track-label {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 10px;
      font-size: 13px;
      color: color-mix(in srgb, #fff 78%, var(--text-secondary));
      pointer-events: none;
    }
    .theme-switch .switch-thumb {
      position: absolute;
      left: 3px;
      top: 3px;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: linear-gradient(160deg, #ffffff, #dbe9ff);
      box-shadow: 0 2px 6px rgba(0,0,0,.25);
      transition: transform .24s ease;
      pointer-events: none;
    }
    .theme-switch[aria-checked="true"] .switch-thumb { transform: translateX(40px); }

    .welcome-splash {
      position: fixed;
      inset: 0;
      z-index: 220;
      display: grid;
      place-items: center;
      padding: var(--space-lg);
      background: radial-gradient(circle at 15% 12%, color-mix(in srgb, var(--accent-2) 17%, transparent), transparent 48%), rgba(5, 11, 26, .58);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      opacity: 0;
      pointer-events: none;
      transition: opacity .22s ease;
    }
    .welcome-splash.open { opacity: 1; pointer-events: auto; }
    .splash-card {
      width: min(520px, 100%);
      border-radius: 26px;
      padding: calc(var(--space-lg) + 4px);
      display: grid;
      gap: var(--space-md);
      text-align: center;
    }
    .splash-logo {
      width: 64px;
      height: 64px;
      margin: 0 auto;
      border-radius: 18px;
      display: grid;
      place-items: center;
      font-size: 26px;
      color: #fff;
      font-weight: 900;
      background: linear-gradient(145deg, var(--accent), var(--accent-2));
      box-shadow: 0 12px 26px color-mix(in srgb, var(--accent) 28%, transparent);
    }



    .project-watermark {
      position: fixed;
      right: max(10px, env(safe-area-inset-right));
      bottom: calc(92px + env(safe-area-inset-bottom));
      z-index: 70;
      font-size: 11px;
      letter-spacing: .2px;
      color: color-mix(in srgb, var(--text-secondary) 70%, transparent);
      background: color-mix(in srgb, var(--surface-elevated) 70%, transparent);
      border: 1px solid color-mix(in srgb, var(--border-soft) 72%, transparent);
      border-radius: 999px;
      padding: 6px 10px;
      pointer-events: none;
      user-select: none;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    @media (min-width: 768px) {
      .project-watermark {
        bottom: 14px;
      }
    }
    .answer-btn.anim-ok { animation: okPulse .34s ease; }
    .answer-btn.anim-ko { animation: koShake .3s ease; }
    @keyframes okPulse { 0%{transform:scale(1)} 45%{transform:scale(1.02)} 100%{transform:scale(1)} }
    @keyframes koShake { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-3px)} 75%{transform:translateX(3px)} }


    .bars { display: grid; gap: var(--space-sm); }
    .bar-wrap { display: grid; gap: var(--space-xs); }

    .bar {
      height: 10px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: var(--surface-elevated);
      overflow: hidden;
    }

    .bar span {
      display: block;
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, var(--accent-soft), var(--accent));
      transition: width .2s ease;
    }

    .summary-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 80px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: var(--surface-elevated);
      font-weight: 800;
      color: var(--text-primary);
    }

    .empty-ill {
      margin: 14px auto;
      width: min(250px, 78%);
      aspect-ratio: 1/.76;
      border-radius: 22px;
      border: 1px solid var(--border-soft);
      background:
        radial-gradient(circle at 82% 18%, color-mix(in srgb, var(--accent-2) 30%, transparent), transparent 38%),
        radial-gradient(circle at 18% 82%, color-mix(in srgb, var(--accent) 28%, transparent), transparent 42%),
        var(--surface-elevated);
      position: relative;
      overflow: hidden;
    }

    .empty-ill::before,
    .empty-ill::after {
      content: "";
      position: absolute;
      border-radius: 12px;
      border: 1px solid var(--border-soft);
      background: color-mix(in srgb, var(--surface) 72%, transparent);
    }

    .empty-ill::before { width: 40%; height: 34%; left: 12%; top: 15%; }
    .empty-ill::after { width: 50%; height: 30%; right: 10%; bottom: 12%; }

    .watermark {
      text-align: center;
      color: var(--text-secondary);
      opacity: .62;
      user-select: none;
      font-size: 11px;
    }

    .bottom-nav {
      position: fixed;
      z-index: 96;
      left: 12px;
      right: 12px;
      bottom: calc(10px + env(safe-area-inset-bottom));
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      padding: 8px;
      border-radius: 24px;
    }

    .nav-btn,
    .side-btn {
      min-height: 44px;
      border: none;
      border-radius: 14px;
      background: transparent;
      color: var(--text-secondary);
      font-weight: 800;
      font-size: 12.5px;
      cursor: pointer;
      transition: transform .12s ease, background-color .2s ease;
    }

    .nav-btn:active,
    .side-btn:active { transform: scale(.98); }

    .nav-btn.active,
    .side-btn.active {
      color: var(--text-primary);
      background: color-mix(in srgb, var(--accent-soft) 82%, transparent);
    }

    .scroll-indicator {
      position: absolute;
      right: 8px;
      top: 8px;
      bottom: 8px;
      width: 6px;
      border-radius: 999px;
      background: color-mix(in srgb, var(--surface-elevated) 60%, transparent);
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease;
      z-index: 40;
    }

    .scroll-indicator.visible { opacity: .9; }

    .scroll-thumb {
      position: absolute;
      left: 1px;
      width: 4px;
      border-radius: 999px;
      background: linear-gradient(180deg, var(--accent), var(--accent-2));
      top: 0;
      height: 40px;
      transform: translateY(0);
    }

    .scroll-hint {
      position: sticky;
      top: 0;
      justify-self: center;
      margin-bottom: -12px;
      z-index: 20;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      background: var(--surface-elevated);
      border: 1px solid var(--border-soft);
      color: var(--text-secondary);
      opacity: 0;
      transform: translateY(-8px);
      transition: opacity .22s ease, transform .22s ease;
      pointer-events: none;
    }

    .scroll-hint.visible { opacity: .95; transform: translateY(0); }

    .sheet-backdrop {
      position: fixed;
      inset: 0;
      z-index: 99;
      background: rgba(8, 12, 18, 0.38);
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease;
    }

    .sheet {
      position: fixed;
      z-index: 100;
      left: 0;
      right: 0;
      bottom: 0;
      transform: translateY(100%);
      transition: transform .22s ease;
      border-top: 1px solid var(--border-soft);
      border-radius: 22px 22px 0 0;
      padding: var(--space-md);
      background: var(--surface-elevated);
      box-shadow: var(--shadow-soft);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      max-height: min(88vh, 780px);
      overflow-y: auto;
    }

    .sheet.center {
      left: 50%;
      top: 50%;
      right: auto;
      bottom: auto;
      transform: translate(-50%, -40%);
      width: min(740px, 92vw);
      border-radius: 24px;
    }

    .sheet.center.open { transform: translate(-50%, -50%); }

    .sheet-handle {
      width: 42px;
      height: 5px;
      border-radius: 999px;
      background: var(--border-soft);
      margin: 0 auto 12px;
    }

    .sheet.open { transform: translateY(0); }
    .sheet-backdrop.open { opacity: 1; pointer-events: auto; }

    .subject-grid {
      display: grid;
      gap: var(--space-xs);
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .subject-btn.active,
    .option-btn.active {
      background: var(--accent-soft);
      border-color: color-mix(in srgb, var(--accent) 35%, transparent);
    }

    @media (min-width: 768px) {
      .app-layout {
        grid-template-columns: 290px minmax(0, 1fr);
        align-items: start;
      }

      .sidebar { display: grid; }
      .bottom-nav { display: none; }
      #view-container { padding: var(--space-lg); }
      .study-grid { grid-template-columns: 1.35fr .95fr; }
      .sheet { display: none; }
      .sheet.desktop-open { display: block; }
      .scroll-indicator { display: block; }
    }

    @media (min-width: 1024px) {
      .app-layout { grid-template-columns: 320px minmax(0, 1fr); }
      .grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
      .subject-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    @media (max-width: 767px) {
      .scroll-indicator { display: none; }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation: none !important;
        transition: none !important;
      }
    }
  </style>
</head>
<body>
  <header class="app-header">
    <div class="brand" data-action="logo-tap" aria-label="Logo MedSpecAPP">
      <div class="logo">M</div>
      <div>
        <h1>MedSpecAPP v5.0</h1>
        <div id="headerMicrocopy" class="subhead">Hai già perso troppo tempo. Inizia.</div>
      </div>
    </div>
    <div id="headerPill" class="pill">Serie 0</div>
  </header>

  <div class="app-layout" style="height:calc(100dvh - var(--header-h,64px));height:calc(100vh - var(--header-h,64px));">
    <aside class="sidebar glass" aria-label="Navigazione laterale">
      <button class="side-btn active" data-nav="home">Inizio</button>
      <button class="side-btn" data-nav="study">Studio</button>
      <button class="side-btn" data-nav="stats">Statistiche</button>
      <button class="side-btn" data-nav="primoAppello">Primo appello</button>
      <button class="side-btn" data-nav="settings">Impostazioni</button>
      <div class="watermark" data-action="long-press">medspec // tieni premuto</div>
    </aside>

    <main id="view-container" role="main" aria-live="polite"></main>

    <div id="scrollIndicator" class="scroll-indicator">
      <div id="scrollThumb" class="scroll-thumb"></div>
    </div>
  </div>

  <nav class="bottom-nav glass" aria-label="Navigazione rapida">
    <button class="nav-btn active" data-nav="home">Inizio</button>
    <button class="nav-btn" data-nav="study">Studio</button>
    <button class="nav-btn" data-nav="stats">Statistiche</button>
    <button class="nav-btn" data-nav="primoAppello">Primo</button>
    <button class="nav-btn" data-nav="settings">Impost.</button>
  </nav>

  <div id="sheetBackdrop" class="sheet-backdrop"></div>

  <section id="setupSheet" class="sheet" aria-label="Configurazione quiz">
    <div class="sheet-handle"></div>
    <h3 style="margin:0 0 var(--space-sm);">Configurazione quiz</h3>
    <div class="stack">
      <div class="stack">
        <strong>Banca dati</strong>
        <div class="chips">
          <button class="btn ghost option-btn" data-setup="bankSelection" data-value="generali">Domande generali</button>
          <button class="btn ghost option-btn" data-setup="bankSelection" data-value="febbraio2026">Domande Febbraio 2026</button>
        </div>
      </div>

      <div class="stack">
        <strong>Quante domande</strong>
        <div class="chips">
          <button class="btn ghost option-btn" data-setup="count" data-value="5">5</button>
          <button class="btn ghost option-btn" data-setup="count" data-value="10">10</button>
          <button class="btn ghost option-btn" data-setup="count" data-value="20">20</button>
          <button class="btn ghost option-btn" data-setup="count" data-value="30">30</button>
          <button class="btn ghost option-btn" data-setup="count" data-value="all">Tutte</button>
        </div>
      </div>

      <div class="stack">
        <strong>Materie (6)</strong>
        <div class="chips">
          <button class="btn ghost" data-action="subjects-all">Seleziona tutte</button>
          <button class="btn ghost" data-action="subjects-clear">Pulisci</button>
        </div>
        <div class="subject-grid" id="subjectGrid"></div>
      </div>

      <div class="stack">
        <strong>Distribuzione</strong>
        <div class="chips">
          <button class="btn ghost option-btn" data-setup="distribution" data-value="split">Suddivise per materia</button>
          <button class="btn ghost option-btn" data-setup="distribution" data-value="shuffle">Shuffle insieme</button>
        </div>
      </div>

      <div class="stack">
        <strong>Timer</strong>
        <div class="chips">
          <button class="btn ghost option-btn" data-setup="timer" data-value="off">Off</button>
          <button class="btn ghost option-btn" data-setup="timer" data-value="5">5 min</button>
          <button class="btn ghost option-btn" data-setup="timer" data-value="10">10 min</button>
          <button class="btn ghost option-btn" data-setup="timer" data-value="15">15 min</button>
        </div>
      </div>

      <div class="stack">
        <strong>Modalità (3)</strong>
        <div class="chips">
          <button class="btn ghost option-btn" data-setup="mode" data-value="studio">Studio</button>
          <button class="btn ghost option-btn" data-setup="mode" data-value="quiz">Quiz</button>
          <button class="btn ghost option-btn" data-setup="mode" data-value="esame">Esame</button>
        </div>
        <div class="stack muted" style="font-size:12px;">
          <div><strong>Studio:</strong> Risposta immediata e spiegazione. Perfetta per ripasso.</div>
          <div><strong>Quiz:</strong> Simulazione classica con conferma.</div>
          <div><strong>Esame:</strong> Modalità rigorosa, niente suggerimenti.</div>
        </div>
        <p class="muted" style="margin:0;">Esame: 90 domande, sufficienza con almeno 54 corrette e minimo 5 corrette per materia.</p>
      </div>

      <article class="card glass" style="padding:12px;border-radius:16px;">
        <h4 style="margin:0 0 8px;">Diagnostica quiz</h4>
        <div id="setupDiagnostics" class="stack muted" style="font-size:12px;"></div>
      </article>

      <div class="btn-row">
        <button class="btn ghost" data-action="close-setup">Annulla</button>
        <button class="btn primary" data-action="start-setup">Avvia quiz</button>
      </div>
    </div>
  </section>

  <section id="exitSheet" class="sheet" aria-label="Conferma uscita quiz">
    <div class="sheet-handle"></div>
    <h3 style="margin:0 0 var(--space-sm);">Vuoi uscire dal quiz?</h3>
    <p class="muted" style="margin:0 0 var(--space-md);">Distraction lock attivo: ti evito tap impulsivi.</p>
    <div class="stack">
      <button class="btn ghost" data-action="exit-continue">Continua</button>
      <button class="btn" data-action="exit-settings">Impostazioni</button>
      <button class="btn primary" data-action="exit-home">Vai alla Home</button>
    </div>
  </section>

  <section id="quizErrorSheet" class="sheet" aria-label="Errore configurazione quiz">
    <div class="sheet-handle"></div>
    <h3 style="margin:0 0 var(--space-sm);">Impossibile avviare il quiz</h3>
    <p id="quizErrorText" class="muted" style="margin:0 0 var(--space-md);">Controlla banca dati e filtri.</p>
    <div class="stack">
      <button class="btn" data-action="quiz-error-setup">Modifica impostazioni</button>
      <button class="btn ghost" data-action="quiz-error-select-generali">Seleziona Domande generali</button>
      <button class="btn ghost" data-action="quiz-error-home">Torna alla Home</button>
      <button class="btn ghost" data-action="quiz-error-back">Torna indietro</button>
    </div>
  </section>


  <section id="welcomeSplash" class="welcome-splash" aria-label="Benvenuto">
    <div class="splash-card glass">
      <div class="splash-logo">M</div>
      <h2>Benvenuto in MedSpecAPP</h2>
      <p id="splashLine" class="muted">Carico una dose di disciplina intelligente...</p>
      <button class="btn primary" data-action="close-splash">Entra</button>
    </div>
  </section>



  <div class="project-watermark" aria-hidden="true">Fulvio Antonio Presutto, 2026</div>

  <script>
    /***** CORE ENGINE *****/
    (function () {
      'use strict';

      const APP_VERSION = '5.0';
      const STORAGE_KEY = 'medspecapp.v3';
      const LEGACY_KEYS = ['medspecapp.v2', 'medspecapp.v1', 'medspecapp'];
      const ROUTES = ['home', 'study', 'stats', 'settings', 'primoAppello'];
      const SUBJECTS = ['Neurologia', 'Oncologia e cure palliative', 'Cardiovascolare', 'Respiratorio', 'Nefrologia', 'Medicina Interna', 'Geriatria'];

      const $view = document.getElementById('view-container');
      const $pill = document.getElementById('headerPill');
      const $micro = document.getElementById('headerMicrocopy');
      const $backdrop = document.getElementById('sheetBackdrop');
      const $setupSheet = document.getElementById('setupSheet');
      const $exitSheet = document.getElementById('exitSheet');
      const $quizErrorSheet = document.getElementById('quizErrorSheet');
      const $quizErrorText = document.getElementById('quizErrorText');
      const $scrollIndicator = document.getElementById('scrollIndicator');
      const $scrollThumb = document.getElementById('scrollThumb');
      const $welcomeSplash = document.getElementById('welcomeSplash');
      const $splashLine = document.getElementById('splashLine');

      const BANK_GENERALI_RAW = [
        {
                "categoria": "Neurologia",
                "id": "NEURO-01",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-02",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-03",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-04",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-01",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-02",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-01",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-14",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-01",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-10",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-01",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-05",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-05",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-17",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-05",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-06",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-07",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-08",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-09",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-10",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-11",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-12",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-13",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-14",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-15",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-16",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-03",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-04",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-05",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-06",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-07",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-08",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-09",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-10",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-11",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-12",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-13",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-14",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-15",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-16",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-17",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-18",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-19",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-20",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-21",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-22",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-23",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-24",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-25",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-26",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-27",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-28",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-29",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-30",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-02",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-03",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-04",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-05",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-06",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-07",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-08",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-09",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-10",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-11",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-12",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-13",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-15",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-16",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-17",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-18",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-19",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-20",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-21",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-22",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-23",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-24",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-25",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-26",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-27",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-28",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-29",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-30",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-31",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-32",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ]
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-33",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-02",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-03",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-04",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-05",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-06",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-07",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-08",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-09",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-11",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-12",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-13",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-14",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-15",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-16",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-17",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-18",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-19",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-20",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-21",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-22",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-23",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-24",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-25",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-26",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-27",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-28",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-29",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-02",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-03",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-04",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-06",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-07",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-08",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-09",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-10",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-11",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-12",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-13",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-14",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-15",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-16",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-17",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-18",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-19",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-20",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-21",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-22",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-23",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-24",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-25",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-26",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-27",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-28",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-29",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ]
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-30",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-01",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-02",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-03",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-04",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-06",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-07",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-08",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-09",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-10",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-11",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-12",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-13",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-14",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-15",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ]
        },
        {
                "categoria": "Geriatria",
                "id": "GER-16",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ]
        }
];

      const BANK_FEB2026_RAW = [
        {
                "categoria": "Neurologia",
                "id": "NEURO-01",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-02",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-03",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-04",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-01",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-02",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-01",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-14",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-01",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-10",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-01",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-05",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-05",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-17",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-05",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-06",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-07",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-08",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-09",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-10",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-11",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-12",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-13",
                "domanda": "Indichi la triade dei sintomi che caratterizza la malattia di Parkinson.",
                "opzioni": [
                        "tremore di riposo, bradicinesia, rigidità plastica",
                        "tremore di riposo, bradicinesia, rigidità spastica",
                        "tremore d'azione, bradicinesia, rigidità plastica",
                        "tremore d'azione, bradicinesia, rigidità spastica"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-14",
                "domanda": "Indichi l'esame di prima scelta per la diagnosi di sclerosi multipla.",
                "opzioni": [
                        "TC encefalo senza mezzo di contrasto",
                        "TC encefalo con mezzo di contrasto",
                        "RMN encefalo con mezzo di contrasto",
                        "RMN encefalo senza mezzo di contrasto"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-15",
                "domanda": "Indichi il trattamento di prima scelta nella terapia dell'attacco della sclerosi multipla.",
                "opzioni": [
                        "corticosteroidi per os",
                        "corticosteroidi per ev",
                        "interferone beta",
                        "plasmaferesi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Neurologia",
                "id": "NEURO-16",
                "domanda": "Indichi la definizione corretta fra le seguenti. La SLA è:",
                "opzioni": [
                        "una malattia degenerativa del primo e secondo motoneurone",
                        "una malattia degenerativa del primo motoneurone",
                        "una malattia degenerativa del secondo motoneurone",
                        "una malattia della giunzione neuromuscolare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde ai quadri clinici e alle definizioni neurologiche più tipiche (Parkinson, SM, SLA, crisi epilettiche)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-03",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-04",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-05",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-06",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-07",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-08",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-09",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-10",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-11",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-12",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-13",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-14",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-15",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-16",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-17",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-18",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-19",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-20",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-21",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-22",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-23",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-24",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-25",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-26",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-27",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-28",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-29",
                "domanda": "Quando un tumore può dirsi maligno?",
                "opzioni": [
                        "se ha la capacità di metastatizzare altri organi",
                        "se ha una crescita non infiltrativa solo locale",
                        "se determina sintomi",
                        "se è difficile da diagnosticare"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Oncologia e cure palliative",
                "id": "ONCO-30",
                "domanda": "Quando una malattia può dirsi metastatica?",
                "opzioni": [
                        "esclusivamente nella fase terminale della malattia",
                        "se localmente avanzata ma ancora radicalizzabile chirurgicamente",
                        "se presenta metastasi linfonodali asportate chirurgicamente",
                        "se è estesa a più organi non radicalizzabile chirurgicamente"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta corrisponde a definizioni e concetti base di oncologia e cure palliative (stadi, biomarcatori, eventi avversi e gestione)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-02",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-03",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-04",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-05",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-06",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-07",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-08",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-09",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-10",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-11",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-12",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-13",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-15",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-16",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-17",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-18",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-19",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-20",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-21",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-22",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-23",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-24",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-25",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-26",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-27",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-28",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-29",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-30",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-31",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-32",
                "domanda": "Fanno parte delle sindromi coronariche acute:",
                "opzioni": [
                        "IMA",
                        "angina stabile",
                        "angina instabile",
                        "tutte le precedenti"
                ],
                "corrette": [
                        0,
                        2
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Cardiovascolare",
                "id": "CARD-33",
                "domanda": "Quali sono le caratteristiche che rendono verosimile un errore nel posizionamento degli elettrodi periferici?",
                "opzioni": [
                        "Un complesso QRS positivo in DII",
                        "Un complesso QRS positivo in aVR",
                        "Una frequenza cardiaca superiore a 100 bpm",
                        "Un complesso QRS più largo di 0,12 secondi"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta è quella che meglio rispecchia definizioni e gestione standard delle patologie cardiovascolari (ECG precoce, terapia tempo-dipendente, ecc.)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-02",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-03",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-04",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-05",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-06",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-07",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-08",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-09",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-11",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-12",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-13",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-14",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-15",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-16",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-17",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-18",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-19",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-20",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-21",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-22",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-23",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-24",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-25",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-26",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-27",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-28",
                "domanda": "L'asma bronchiale può essere:",
                "opzioni": [
                        "allergico",
                        "da esposizione a sostanze tossiche in ambiente lavorativo",
                        "innescato da infezioni virali o batteriche",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Respiratorio",
                "id": "RESP-29",
                "domanda": "La superficie degli alveoli è approssimativamente pari a:",
                "opzioni": [
                        "quella di un campo da tennis",
                        "quella di un campo da calcio",
                        "quella di un campo da ping pong",
                        "quella di un campo da pallavolo"
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i principi di fisiologia e spirometria (ostruttivo vs restrittivo, scambio gas, cause di ipossiemia/ipercapnia)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-02",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-03",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-04",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-06",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-07",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-08",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-09",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-10",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-11",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-12",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-13",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-14",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-15",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-16",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-17",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-18",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-19",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-20",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-21",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-22",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-23",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-24",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-25",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-26",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-27",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-28",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-29",
                "domanda": "Nella popolazione italiana la prevalenza di malattia renale cronica nei diversi stadi evolutivi è:",
                "opzioni": [
                        "21%",
                        "0,5%",
                        "6-8%",
                        "33%"
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Nefrologia",
                "id": "NEFRO-30",
                "domanda": "La terapia sostitutiva degli stadi terminali dell'insufficienza renale cronica può essere:",
                "opzioni": [
                        "emodialisi",
                        "dialisi peritoneale",
                        "trapianto",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta riflette fisiopatologia renale e criteri clinico-laboratoristici (CKD, dialisi, trapianto, sindromi glomerulari)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-01",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-02",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-03",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-04",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-06",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-07",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-08",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-09",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-10",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-11",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-12",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-13",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-14",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-15",
                "domanda": "Il delirium:",
                "opzioni": [
                        "è identico al delirio",
                        "è uno stato temporaneo di confusione mentale e coscienza fluttuante",
                        "è uno stato permanente di confusione mentale",
                        "è una forma di demenza"
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-16",
                "domanda": "Quale dei seguenti fattori contribuisce alla malnutrizione nell'anziano?",
                "opzioni": [
                        "fattori socioeconomici (vivere soli, ristrettezza economica)",
                        "patologie croniche e infiammatorie con aumento del catabolismo",
                        "fattori fisiologici legati all'invecchiamento",
                        "tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-01",
                "domanda": "Qual è il sintomo clinico più tipico dell'arteriopatia ostruttiva periferica degli arti inferiori?",
                "opzioni": [
                        "Dolore continuo a riposo che peggiora di notte.",
                        "Edema declive bilaterale degli arti inferiori.",
                        "Claudicatio intermittens.",
                        "Parestesie diffuse non correlate allo sforzo."
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-02",
                "domanda": "Il vomito, quale affermazione è corretta?",
                "opzioni": [
                        "Se marrone, viene detto vomito fecaloide di sangue digerito.",
                        "Se rosso vivo, di solito viene dal tratto gastroenterico inferiore ed è arterioso.",
                        "Se rosso scuro, è di solito di pertinenza venosa, esempio da varici esofagee.",
                        "Se biancastro, è conseguente a un'ostruzione biliare."
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-03",
                "domanda": "Quale fra i seguenti fattori di rischio è maggiormente associato allo sviluppo di arteriopatia periferica?",
                "opzioni": [
                        "Iperuricemia.",
                        "Fumo di sigaretta.",
                        "Anemia sideropenica.",
                        "Ipertiroidismo."
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-04",
                "domanda": "Quale fra i seguenti è un criterio diagnostico di diabete mellito da confermare con una seconda determinazione in assenza di iperglicemia inequivocabile?",
                "opzioni": [
                        "Glicemia a digiuno maggiore o uguale a 126 mg/dL.",
                        "Glicemia 2 ore dopo carico orale di glucosio maggiore o uguale a 140 mg/dL.",
                        "Emoglobina glicata HbA1c maggiore del 6%.",
                        "Fruttosammina elevata come test diagnostico di prima scelta."
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-05",
                "domanda": "Quale fra i seguenti quadri clinici è più suggestivo di arterite a cellule giganti (GCA)?",
                "opzioni": [
                        "Cefalea cronica in giovane adulto con aura visiva.",
                        "Dolore cervicale con rigidità mattutina isolata.",
                        "Cefalea temporale di nuova insorgenza associata a claudicatio mandibolare.",
                        "Vertigini ricorrenti con nausea e vomito."
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-06",
                "domanda": "In presenza di forte sospetto clinico di arterite a cellule giganti con sintomi oculari, qual è il comportamento corretto?",
                "opzioni": [
                        "Attendere l'esito della biopsia dell'arteria temporale prima di iniziare la terapia.",
                        "Iniziare solo terapia analgesica e monitorare.",
                        "Richiedere esclusivamente esami di imaging prima di trattare.",
                        "Iniziare immediatamente terapia corticosteroidea ad alte dosi."
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-07",
                "domanda": "In un paziente con addome acuto, quale affermazione è corretta?",
                "opzioni": [
                        "Chiamare il medico se il paziente presenta dolore non controllato, vomito o alterazione dello stato generale.",
                        "Parametrare immediatamente il paziente e chiamare il medico solo se ci sono alterazioni.",
                        "Provare a somministrare al paziente piccole quantità di liquidi per vedere il transito, eventualmente dopo posizionamento di SNG.",
                        "Preferire un accesso venoso centrale ed eseguire subito un EGA arterioso."
                ],
                "corrette": [
                        0
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-08",
                "domanda": "Quale affermazione descrive correttamente il rapporto tra trombosi venosa profonda ed embolia polmonare?",
                "opzioni": [
                        "La TVP e l'EP sono patologie distinte con trattamento diverso.",
                        "L'EP è presente solo nel 5-10% dei pazienti con TVP.",
                        "La TVP è riscontrabile nel 70% dei pazienti con embolia polmonare.",
                        "La TVP è sempre sintomatica prima dell'EP."
                ],
                "corrette": [
                        2
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-09",
                "domanda": "Qual è il principale significato clinico del D-dimero nella diagnosi di TVP?",
                "opzioni": [
                        "Confermare con certezza la presenza di trombosi venosa.",
                        "Escludere la TVP grazie all'elevato valore predittivo negativo.",
                        "Valutare la gravità dell'embolia polmonare.",
                        "Sostituire l'ecocolordoppler venoso."
                ],
                "corrette": [
                        1
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-10",
                "domanda": "Tenesmo e incontinenza. Quale opzione è corretta?",
                "opzioni": [
                        "Il tenesmo è la sensazione continua di dover andare di corpo per disturbi psicologici.",
                        "L'incontinenza di feci minore consiste nell'emissione involontaria solo di aria.",
                        "L'incontinenza maggiore consiste nell'emissione involontaria di feci a seguito di tosse o passaggio di aria.",
                        "Nessuna delle precedenti."
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-11",
                "domanda": "Ipotiroidismo. Quale affermazione è errata?",
                "opzioni": [
                        "Quello autoimmune è detto tiroidite di Hashimoto ed è caratterizzato da autoanticorpi anti-tireoglobulina e anti-tireoperossidasi.",
                        "Cause iatrogene di ipotiroidismo sono terapia cronica con amiodarone, litio e radioiodio.",
                        "Nell'ipotiroidismo congenito spesso si assiste a ritardi di crescita e alterazioni neurologiche se non trattati.",
                        "L'ipotiroidismo autoimmune inizialmente può associarsi a gozzo, successivamente ad atrofia della ghiandola ed è caratterizzato da bassi livelli di FT3 ma non di FT4."
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-12",
                "domanda": "Il diabete mellito. Quale affermazione è corretta?",
                "opzioni": [
                        "Può essere causato da ridotta produzione di insulina e ridotta produzione di glucosio.",
                        "Gli ormoni che favoriscono iperglicemia sono insulina, adrenalina e cortisolo.",
                        "Durante il digiuno ci sono aumentati i livelli di insulina e bassi livelli di glucagone.",
                        "L'insulina favorisce la glicolisi, la glicogenosintesi e a livello muscolare favorisce l'uptake di glucosio dalle cellule."
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Medicina Interna",
                "id": "MI-13",
                "domanda": "Nell'epatite acuta, quale affermazione è corretta?",
                "opzioni": [
                        "Le transaminasi sono aumentate per meno di 4 mesi.",
                        "Dolore tipico in fianco sinistro e vomito.",
                        "Quella fulminante può essere causata da farmaci, più frequente l'aspirina.",
                        "L'epatite fulminante è caratterizzata da alterazione del sensorio, difetti di coagulazione e insufficienza multiorgano."
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i criteri clinici più usati in medicina interna (quadri acuti, fattori di rischio, diagnosi differenziale e gestione iniziale)."
        },
        {
                "categoria": "Geriatria",
                "id": "GER-18",
                "domanda": "Per la prevenzione delle cadute nell'anziano è raccomandato",
                "opzioni": [
                        "Uso di calzature idonee",
                        "Intervento ambientale",
                        "Periodiche revisioni della terapia farmacologica",
                        "Tutte le precedenti"
                ],
                "corrette": [
                        3
                ],
                "explanation": "La risposta corretta segue i concetti chiave della geriatria (fragilità, delirium, funzionalità, polifarmacoterapia e prevenzione)."
        }
];

      function stableIdFromText(text, prefix = 'Q') {
        let h = 0;
        const src = String(text || 'vuota');
        for (let i = 0; i < src.length; i += 1) h = ((h << 5) - h) + src.charCodeAt(i);
        return `${prefix}-${Math.abs(h)}`;
      }

      function normalizeQuestion(raw, forcedSet) {
        if (!raw || typeof raw !== 'object') return null;
        const answers = Array.isArray(raw.answers) ? raw.answers : (Array.isArray(raw.opzioni) ? raw.opzioni : (Array.isArray(raw.options) ? raw.options : []));
        const question = String(raw.question || raw.domanda || raw.text || '').trim();
        const topic = String(raw.topic || raw.categoria || raw.materia || '').trim();
        const set = forcedSet || (raw.set === 'febbraio2026' ? 'febbraio2026' : 'generali');
        if (!question || !answers.length || !topic) return null;

        let correctIndices = [];
        if (Array.isArray(raw.correctIndices)) correctIndices = raw.correctIndices.slice();
        else if (Array.isArray(raw.corrette)) correctIndices = raw.corrette.slice();
        else if (Number.isInteger(raw.correctIndex)) correctIndices = [raw.correctIndex];

        const valid = [...new Set(correctIndices.map((x) => Number(x)).filter((x) => Number.isInteger(x) && x >= 0 && x < answers.length))];
        if (!valid.length) return null;

        return {
          id: String(raw.id || stableIdFromText(question, set === 'generali' ? 'GEN' : 'FEB')),
          set,
          topic,
          question,
          answers: answers.map((a) => String(a)),
          correctIndices: valid,
          explanation: raw.explanation ? String(raw.explanation) : ''
        };
      }

      function normalizeBank(rawList, set) {
        if (!Array.isArray(rawList)) return [];
        return rawList.map((q) => normalizeQuestion(q, set)).filter(Boolean);
      }

      const BANKS = {
        generali: normalizeBank(BANK_GENERALI_RAW, 'generali'),
        febbraio2026: normalizeBank(BANK_FEB2026_RAW, 'febbraio2026')
      };

      const mockQuestions = [...BANKS.generali, ...BANKS.febbraio2026];

      const defaultSetup = { bankSelection: 'generali', count: '10', subjects: SUBJECTS.slice(), distribution: 'shuffle', timer: 'off', mode: 'studio' };

      const defaultState = {
        appVersion: APP_VERSION,
        schemaVersion: 5,
        route: 'home',
        theme: 'light',
        easterEggs: true,
        hotkeys: false,
        haptic: true,
        logoTapCount: 0,
        typedBuffer: '',
        notice: '',
        scrollPositions: {},
        selectedPool: 'generali',
        questions: mockQuestions,
        questionMeta: {},
        achievements: {},
        bookmarks: {},
        lastSetup: structuredClone(defaultSetup),
        setupDraft: structuredClone(defaultSetup),
        study: {
          mode: 'studio',
          antiPanic: false,
          distractionLock: false,
          seccheOnly: false,
          resumeAvailable: false,
          sessionStartedAt: null,
          timerEndsAt: null,
          rapidPoints: 0,
          focus: 55,
          bestFocusRun: 55,
          currentQuestionId: null,
          selectedAnswers: [],
          selectedIndex: null,
          confirmed: false,
          answered: false,
          feedback: '',
          explanationVisible: false,
          phase: 'idle',
          run: { queue: [], index: 0, results: [], topics: {} },
          summary: null,
          pendingNav: null
        },
        quiz: { mode: 'studio', selectedIndex: null, confirmed: false, questions: [], currentIndex: 0 },
        pools: {
          global: { attempts: 0, correct: 0 },
          generali: { attempts: 0, correct: 0 },
          febbraio2026: { attempts: 0, correct: 0 }
        },
        diagnostics: { bankSelection: 'generali', rawCount: 0, normalizedCount: 0, filteredCount: 0, loadedCount: 0, selectedSubjects: SUBJECTS.slice(), skippedInvalid: 0, lastError: '' },
        stats: {
          streak: 0,
          bestStreak: 0,
          totalTimeMs: 0,
          weakTopics: {},
          mistakes: [],
          errorsPersisted: {},
          history: [],
          bestFocus: 55
        }
      };

      /***** DATA LAYER *****/
      const Data = {
        load() {
          const base = structuredClone(defaultState);
          const current = this.safeGet(STORAGE_KEY);
          if (current) return this.migrate(base, current);
          for (const key of LEGACY_KEYS) {
            const old = this.safeGet(key);
            if (!old) continue;
            const migrated = this.migrate(base, old);
            this.safeSet(STORAGE_KEY, migrated);
            return migrated;
          }
          return base;
        },
        safeGet(key) {
          try {
            const raw = localStorage.getItem(key);
            if (!raw) return null;
            const parsed = JSON.parse(raw);
            return parsed && typeof parsed === 'object' ? parsed : null;
          } catch (_) { return null; }
        },
        safeSet(key, value) {
          try { localStorage.setItem(key, JSON.stringify(value)); }
          catch (_) {
            try {
              localStorage.removeItem(key);
              localStorage.setItem(key, JSON.stringify(value));
            } catch (__){ }
          }
        },
        safeObj(obj) { return obj && typeof obj === 'object' && !Array.isArray(obj) ? obj : {}; },
        safePool(pool) { return { attempts: Number(pool && pool.attempts) || 0, correct: Number(pool && pool.correct) || 0 }; },
        migrate(base, source) {
          const out = structuredClone(base);
          if (!source || typeof source !== 'object') return out;

          out.appVersion = APP_VERSION;
          out.schemaVersion = 5;
          out.route = ROUTES.includes(source.route) ? source.route : 'home';
          out.theme = source.theme === 'dark' ? 'dark' : 'light';
          out.easterEggs = source.easterEggs !== false;
          out.hotkeys = !!source.hotkeys;
          out.haptic = source.haptic !== false;
          out.logoTapCount = Number(source.logoTapCount || source.logoTaps || 0) || 0;
          out.typedBuffer = typeof source.typedBuffer === 'string' ? source.typedBuffer.slice(-30) : '';
          out.selectedPool = ['generali', 'febbraio2026'].includes(source.selectedPool) ? source.selectedPool : 'generali';
          out.scrollPositions = this.safeObj(source.scrollPositions);
          if (Array.isArray(source.questions) && source.questions.length) out.questions = source.questions.map((q) => normalizeQuestion(q, q.set)).filter(Boolean);
          out.questionMeta = this.safeObj(source.questionMeta);
          out.achievements = this.safeObj(source.achievements);
          out.bookmarks = this.safeObj(source.bookmarks);

          if (source.lastSetup && typeof source.lastSetup === 'object') out.lastSetup = { ...out.lastSetup, ...source.lastSetup, bankSelection: ['generali','febbraio2026'].includes(source.lastSetup.bankSelection) ? source.lastSetup.bankSelection : out.lastSetup.bankSelection };
          if (source.setupDraft && typeof source.setupDraft === 'object') out.setupDraft = { ...out.setupDraft, ...source.setupDraft, bankSelection: ['generali','febbraio2026'].includes(source.setupDraft.bankSelection) ? source.setupDraft.bankSelection : out.setupDraft.bankSelection };

          if (source.study && typeof source.study === 'object') {
            out.study = {
              ...out.study,
              ...source.study,
              run: source.study.run && typeof source.study.run === 'object' ? { ...out.study.run, ...source.study.run } : out.study.run
            };
          }

          if (source.stats && typeof source.stats === 'object') {
            out.stats = {
              ...out.stats,
              ...source.stats,
              weakTopics: this.safeObj(source.stats.weakTopics),
              errorsPersisted: this.safeObj(source.stats.errorsPersisted),
              mistakes: Array.isArray(source.stats.mistakes) ? source.stats.mistakes.slice(0, 60) : [],
              history: Array.isArray(source.stats.history) ? source.stats.history.slice(-220) : [],
              bestFocus: Number(source.stats.bestFocus) || out.stats.bestFocus
            };
          }

          if (source.pools && typeof source.pools === 'object') {
            out.pools = {
              global: this.safePool(source.pools.global),
              generali: this.safePool(source.pools.generali),
              febbraio2026: this.safePool(source.pools.febbraio2026)
            };
          }
          return out;
        }
      };

      /***** UI LAYER *****/
      const UI = {
        applyTheme(theme) {
          document.documentElement.setAttribute('data-theme', theme === 'dark' ? 'dark' : 'light');
          const meta = document.querySelector('meta[name="theme-color"]');
          if (meta) meta.setAttribute('content', theme === 'dark' ? '#0a1530' : '#dfefff');
        },
        setNav(route) {
          document.querySelectorAll('[data-nav]').forEach((el) => el.classList.toggle('active', el.dataset.nav === route));
        },
        updateHeader(state) {
          $pill.textContent = `Serie ${state.stats.streak}`;
          $micro.textContent = state.notice || App.pickHeaderLine();
        },
        frag(html) {
          const tpl = document.createElement('template');
          tpl.innerHTML = html.trim();
          const frag = document.createDocumentFragment();
          frag.appendChild(tpl.content.cloneNode(true));
          return frag;
        },
        openSheet(type) {
          $backdrop.classList.add('open');
          const desktop = window.innerWidth >= 768;
          if (type === 'setup') {
            $setupSheet.classList.add('open');
            if (desktop) $setupSheet.classList.add('desktop-open', 'center');
          }
          if (type === 'exit') {
            $exitSheet.classList.add('open');
            if (desktop) $exitSheet.classList.add('desktop-open', 'center');
          }
          if (type === 'quiz-error') {
            $quizErrorSheet.classList.add('open');
            if (desktop) $quizErrorSheet.classList.add('desktop-open', 'center');
          }
        },
        closeSheets() {
          $backdrop.classList.remove('open');
          [$setupSheet, $exitSheet, $quizErrorSheet].forEach((el) => el.classList.remove('open', 'desktop-open', 'center'));
        }
      };

      /***** INPUT SHORTCUTS *****/
      const InputShortcuts = {
        isEditableTarget(target) {
          if (!(target instanceof HTMLElement)) return false;
          const tag = target.tagName;
          return target.isContentEditable || tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT';
        },
        isSheetOpen() {
          return $backdrop.classList.contains('open');
        },
        handleSpacebar(e) {
          if (e.code !== 'Space') return false;
          if (this.isEditableTarget(e.target)) return false;
          if (App.state.route !== 'study') return false;
          if (App.state.study.phase !== 'running') return false;
          if (this.isSheetOpen()) return false;

          e.preventDefault();

          const st = App.state.study;
          if (!st.answered || (st.mode === 'quiz' && !st.confirmed) || st.selectedIndex === null) {
            App.flash('Prima seleziona e completa la domanda attuale.');
            return true;
          }

          Study.next();
          return true;
        }
      };

      /***** SCROLL SYSTEM *****/
      const ScrollSystem = {
        hideTimer: 0,
        hintShown: false,
        touchStartY: 0,

        bind() {
          $view.addEventListener('scroll', () => this.onScroll(), { passive: true });
          $view.addEventListener('pointerdown', (e) => this.onPointerDown(e), { passive: true });
          $view.addEventListener('pointerup', (e) => this.onPointerUp(e), { passive: true });
        },

        onScroll() {
          const max = $view.scrollHeight - $view.clientHeight;
          if (max <= 0 || window.innerWidth < 768) {
            $scrollIndicator.classList.remove('visible');
            return;
          }

          const ratio = $view.clientHeight / $view.scrollHeight;
          const thumbH = Math.max(40, Math.round($view.clientHeight * ratio));
          const top = Math.round(($view.scrollTop / max) * ($view.clientHeight - thumbH));
          $scrollThumb.style.height = `${thumbH}px`;
          $scrollThumb.style.transform = `translateY(${top}px)`;

          $scrollIndicator.classList.add('visible');
          clearTimeout(this.hideTimer);
          this.hideTimer = window.setTimeout(() => $scrollIndicator.classList.remove('visible'), 600);
        },

        onPointerDown(e) {
          this.touchStartY = e.clientY;
        },

        onPointerUp(e) {
          if (window.innerWidth >= 768) return;
          const delta = this.touchStartY - e.clientY;
          if (delta > 80 && $view.scrollTop < 40) {
            $view.scrollBy({ top: 260, behavior: 'smooth' });
            this.showHint('Scorro giù per te.');
          }
        },

        showHint(text) {
          if (this.hintShown) return;
          this.hintShown = true;
          const hint = document.createElement('div');
          hint.className = 'scroll-hint';
          hint.textContent = text;
          $view.prepend(hint);
          requestAnimationFrame(() => hint.classList.add('visible'));
          window.setTimeout(() => {
            hint.classList.remove('visible');
            window.setTimeout(() => hint.remove(), 220);
          }, 1500);
        }
      };

      /***** MODES + TIMER *****/
      const TimerController = {
        node: null,
        intervalId: 0,
        startAt: 0,
        durationMs: null,
        pausedMs: 0,
        running: false,
        onExpire: null,

        bind(node) { this.node = node || null; },
        format(ms) {
          const sec = Math.max(0, Math.ceil(ms / 1000));
          const m = String(Math.floor(sec / 60)).padStart(2, '0');
          const s = String(sec % 60).padStart(2, '0');
          return `${m}:${s}`;
        },
        start(duration, onExpire) {
          this.stop();
          this.durationMs = typeof duration === 'number' ? Math.max(0, duration) : null;
          this.onExpire = typeof onExpire === 'function' ? onExpire : null;
          this.startAt = Date.now();
          this.pausedMs = 0;
          this.running = true;
          this.tick();
          this.intervalId = window.setInterval(() => this.tick(), 250);
        },
        pause() {
          if (!this.running) return;
          this.running = false;
          this.pausedMs = Date.now() - this.startAt;
          clearInterval(this.intervalId);
          this.intervalId = 0;
        },
        resume() {
          if (this.running || !this.node) return;
          this.running = true;
          this.startAt = Date.now() - this.pausedMs;
          this.tick();
          this.intervalId = window.setInterval(() => this.tick(), 250);
        },
        stop() {
          clearInterval(this.intervalId);
          this.intervalId = 0;
          this.running = false;
          this.startAt = 0;
          this.durationMs = null;
          this.pausedMs = 0;
          this.onExpire = null;
          if (this.node) this.node.textContent = '00:00';
        },
        tick() {
          if (!this.node || !this.running) return;
          const elapsed = Math.max(0, Date.now() - this.startAt);
          if (this.durationMs === null) {
            this.node.textContent = this.format(elapsed);
            return;
          }
          const left = Math.max(0, this.durationMs - elapsed);
          this.node.textContent = this.format(left);
          if (left <= 0) {
            const cb = this.onExpire;
            this.stop();
            if (cb) cb();
          }
        }
      };

      const Modes = {
        attachTimer() {
          const s = App.state.study;
          const node = document.getElementById('timerLabel');
          TimerController.bind(node);
          if (!node) return;

          const onExpire = () => {
            App.flash('Tempo finito. Sessione chiusa.');
            Study.finishRunByTimer();
          };

          if (s.timerEndsAt) {
            const left = Math.max(0, s.timerEndsAt - Date.now());
            TimerController.start(left, onExpire);
            return;
          }

          s.sessionStartedAt = s.sessionStartedAt || Date.now();
          TimerController.start(null, null);
          TimerController.startAt = s.sessionStartedAt;
          TimerController.tick();
        }
      };

      /***** QUIZ SETUP + SUMMARY *****/
      const SetupSummary = {
        createQueue() {
          const setup = App.state.lastSetup;
          const bank = setup.bankSelection || 'generali';
          const rawBank = bank === 'febbraio2026' ? BANK_FEB2026_RAW : BANK_GENERALI_RAW;
          const normalizedBank = normalizeBank(rawBank, bank);
          const subjects = setup.subjects.length ? setup.subjects : SUBJECTS;
          const filtered = normalizedBank.filter((q) => subjects.includes(q.topic));

          const diag = {
            bankSelection: bank,
            rawCount: Array.isArray(rawBank) ? rawBank.length : 0,
            normalizedCount: normalizedBank.length,
            filteredCount: filtered.length,
            loadedCount: 0,
            selectedSubjects: subjects.slice(),
            skippedInvalid: Math.max(0, (Array.isArray(rawBank) ? rawBank.length : 0) - normalizedBank.length),
            lastError: ''
          };

          if (bank === 'febbraio2026' && !normalizedBank.length) {
            diag.lastError = "La banca dati ‘Domande Febbraio 2026’ non è ancora caricata.";
            App.state.diagnostics = diag;
            return { queue: [], error: diag.lastError };
          }

          if (!filtered.length) {
            diag.lastError = 'Non ci sono domande disponibili con questi filtri.';
            App.state.diagnostics = diag;
            return { queue: [], error: diag.lastError };
          }

          let queue = [];
          if (setup.distribution === 'split') {
            const groups = SUBJECTS.reduce((acc, sub) => { acc[sub] = filtered.filter((q) => q.topic === sub); return acc; }, {});
            let guard = 0;
            while (guard < 500 && queue.length < filtered.length) {
              let moved = false;
              for (const sub of subjects) {
                const pick = groups[sub] && groups[sub].shift();
                if (pick) { queue.push(pick); moved = true; }
              }
              if (!moved) break;
              guard += 1;
            }
          } else {
            queue = shuffled(filtered);
          }

          if (!queue.length) queue = shuffled(filtered);
          if (setup.mode === 'esame') {
            const examQueue = [];
            const bySub = SUBJECTS.reduce((acc, sub) => { acc[sub] = shuffled(filtered.filter((q) => q.topic === sub)); return acc; }, {});
            while (examQueue.length < 90) {
              let moved = false;
              for (const sub of SUBJECTS) {
                const arr = bySub[sub];
                if (!arr.length) continue;
                examQueue.push(arr[Math.floor(Math.random() * arr.length)]);
                moved = true;
                if (examQueue.length >= 90) break;
              }
              if (!moved) break;
            }
            if (examQueue.length) queue = examQueue;
          } else if (setup.count !== 'all') {
            const n = Number(setup.count) || queue.length;
            queue = queue.slice(0, Math.min(n, queue.length));
          }

          diag.loadedCount = queue.length;
          App.state.diagnostics = diag;
          App.state.selectedPool = bank;
          App.state.questions = normalizedBank;
          return { queue, error: '' };
        },
        gradeFromPercent(p) {
          return Math.max(18, Math.round((p / 100) * 30));
        }
      };

      /***** STUDY FEATURES *****/
      const Study = {
        byId(id) { return App.state.questions.find((q) => q.id === id) || null; },
        ensureCurrentQuestion() {
          const s = App.state.study;
          if (s.phase !== 'running') return null;
          const id = s.run.queue[s.run.index];
          if (!id) return null;
          if (s.currentQuestionId !== id) {
            s.currentQuestionId = id;
            s.selectedAnswers = [];
            s.answered = false;
            s.feedback = '';
            s.explanationVisible = false;
            App.state.lastQuestionStartAt = Date.now();
          }
          return this.byId(s.currentQuestionId);
        },
        check(question, picked) {
          const correct = Array.isArray(question.correctIndices) ? question.correctIndices.slice().sort() : (Number.isInteger(question.correctIndex) ? [question.correctIndex] : []);
          const user = picked.slice().sort();
          if (correct.length !== user.length) return false;
          return correct.every((v, i) => v === user[i]);
        },
        startRunFromSetup() {
          const s = App.state.study;
          const setup = App.state.lastSetup;
          const prepared = SetupSummary.createQueue();
          const queue = prepared.queue || [];
          if (!queue.length) {
            App.openQuizError(prepared.error || 'Non ci sono domande disponibili con questi filtri.');
            return;
          }

          s.mode = setup.mode;
          s.timerEndsAt = setup.timer === 'off' ? null : Date.now() + Number(setup.timer) * 60 * 1000;
          if (setup.mode === 'esame' && setup.timer === 'off') s.timerEndsAt = Date.now() + 90 * 60 * 1000;

          s.rapidPoints = 0;
          s.focus = 55;
          s.bestFocusRun = 55;
          s.resumeAvailable = true;
          s.sessionStartedAt = Date.now();
          s.phase = 'running';
          s.summary = null;
          s.run = { queue: queue.map((q) => q.id), index: 0, results: [], topics: {} };
          s.currentQuestionId = s.run.queue[0] || null;
          s.selectedAnswers = [];
          s.selectedIndex = null;
          s.confirmed = false;
          s.answered = false;
          s.feedback = '';
          s.explanationVisible = false;
          App.state.quiz = { mode: s.mode, selectedIndex: null, confirmed: false, questions: s.run.queue.slice(), currentIndex: 0 };
          App.state.lastQuestionStartAt = Date.now();

          App.persist();
          App.navigate('study');
        },
        answer(index) {
          const s = App.state.study;
          const q = this.byId(s.currentQuestionId);
          if (!q || s.answered || s.phase !== 'running') return;

          s.selectedIndex = Number(index);
          s.selectedAnswers = [s.selectedIndex];
          s.confirmed = false;
          App.state.quiz.selectedIndex = s.selectedIndex;
          App.state.quiz.confirmed = false;
          this.paintSelection();

          if (s.mode === 'studio') {
            this.finalize();
          }
        },
        paintSelection() {
          const list = document.querySelectorAll('.answer-btn[data-answer]');
          const selected = App.state.study.selectedIndex;
          list.forEach((el) => {
            const idx = Number(el.getAttribute('data-answer'));
            el.classList.toggle('selected', idx === selected && !App.state.study.answered);
          });
          const confirmBtn = document.querySelector('[data-action="confirm-answer"]');
          if (confirmBtn instanceof HTMLButtonElement) confirmBtn.disabled = selected === null;
        },
        finalize() {

          const st = App.state;
          const s = st.study;
          const q = this.byId(s.currentQuestionId);
          if (!q || s.answered || s.phase !== 'running') return;
          if (s.selectedIndex === null || !s.selectedAnswers.length) {
            App.flash('Seleziona almeno una risposta.');
            return;
          }

          const ok = this.check(q, s.selectedAnswers);
          s.answered = true;
          s.confirmed = true;
          App.state.quiz.confirmed = true;
          s.explanationVisible = s.mode === 'esame' ? false : true;
          s.feedback = ok ? 'Pulita. Così ti voglio.' : 'Nope. Riallinea il cervello e avanti.';

          if (st.haptic && navigator.vibrate) navigator.vibrate(ok ? 12 : [10, 40, 10]);

          const elapsed = Math.max(500, Date.now() - (st.lastQuestionStartAt || Date.now()));
          st.stats.totalTimeMs += elapsed;
          st.stats.history.push({ t: Date.now(), ok: ok ? 1 : 0, topic: q.topic, pool: st.selectedPool });
          st.stats.history = st.stats.history.slice(-220);

          st.pools.global.attempts += 1;
          st.pools[st.selectedPool].attempts += 1;

          if (ok) {
            s.focus = Math.min(100, s.focus + 6 + Math.min(4, st.stats.streak));
            st.pools.global.correct += 1;
            st.pools[st.selectedPool].correct += 1;
            st.stats.streak += 1;
            st.stats.bestStreak = Math.max(st.stats.bestStreak, st.stats.streak);
          } else {
            s.focus = Math.max(0, s.focus - 14);
            st.stats.streak = 0;
            st.stats.weakTopics[q.topic] = (st.stats.weakTopics[q.topic] || 0) + 1;
            st.stats.errorsPersisted[q.id] = (st.stats.errorsPersisted[q.id] || 0) + 1;
            st.stats.mistakes.unshift({ id: q.id, topic: q.topic, pool: q.set, at: Date.now() });
            st.stats.mistakes = st.stats.mistakes.slice(0, 50);
          }

          s.run.results.push({ id: q.id, ok, topic: q.topic, focus: s.focus });
          s.bestFocusRun = Math.max(s.bestFocusRun || 0, s.focus || 0);
          s.run.topics[q.topic] = s.run.topics[q.topic] || { ok: 0, bad: 0 };
          if (ok) s.run.topics[q.topic].ok += 1;
          else s.run.topics[q.topic].bad += 1;

          const m = st.questionMeta[q.id] || { bucket: 1, nextDue: 0 };
          if (ok) {
            m.bucket = Math.min(5, (m.bucket || 1) + 1);
            m.nextDue = Date.now() + m.bucket * 2 * 60 * 1000;
            if (st.stats.errorsPersisted[q.id]) st.stats.errorsPersisted[q.id] = Math.max(0, st.stats.errorsPersisted[q.id] - 1);
          } else {
            m.bucket = 1;
            m.nextDue = Date.now() + 60 * 1000;
          }
          st.questionMeta[q.id] = m;

          App.persist();
          App.render();

        },
        next() {
          const s = App.state.study;
          if (s.phase !== 'running') return;
          if (s.run.index >= s.run.queue.length - 1) {
            this.finishRun();
            return;
          }
          s.run.index += 1;
          s.currentQuestionId = s.run.queue[s.run.index] || null;
          s.selectedAnswers = [];
          s.selectedIndex = null;
          s.confirmed = false;
          s.answered = false;
          s.feedback = '';
          s.explanationVisible = false;
          App.state.quiz = { mode: s.mode, selectedIndex: null, confirmed: false, questions: s.run.queue.slice(), currentIndex: 0 };
          App.state.lastQuestionStartAt = Date.now();
          App.persist();
          App.render();
        },
        finishRunByTimer() {
          if (App.state.study.phase !== 'running') return;
          this.finishRun();
        },
        finishRun() {
          const s = App.state.study;
          const results = s.run.results;
          const total = Math.max(1, results.length);
          const correct = results.filter((r) => r.ok).length;
          const wrong = total - correct;
          const perc = Math.round((correct / total) * 100);

          const elapsedMs = Math.max(1, Date.now() - (s.sessionStartedAt || Date.now()));
          const examPass = s.mode === 'esame'
            ? (correct >= 54 && SUBJECTS.every((sub) => {
                const t = s.run.topics[sub] || { ok: 0 };
                return (t.ok || 0) >= 5;
              }))
            : null;
          s.summary = {
            total,
            correct,
            wrong,
            perc,
            voto30: SetupSummary.gradeFromPercent(perc),
            topics: s.run.topics,
            elapsedMs,
            avgMs: Math.round(elapsedMs / total),
            focusBest: s.bestFocusRun || s.focus || 0,
            examPass
          };
          App.state.stats.bestFocus = Math.max(App.state.stats.bestFocus || 0, s.bestFocusRun || 0);
          s.phase = 'summary';
          s.resumeAvailable = false;
          s.timerEndsAt = null;
          TimerController.stop();
          App.persist();
          App.render();
        },
        repeatMistakesRun() {
          const last = App.state.stats.mistakes.slice(0, 10).map((m) => m.id);
          if (!last.length) {
            App.flash('Nessun errore recente da ripetere.');
            return;
          }
          const s = App.state.study;
          s.run = { queue: last, index: 0, results: [], topics: {} };
          s.phase = 'running';
          s.mode = 'studio';
          s.timerEndsAt = null;
          s.rapidPoints = 0;
          s.focus = 55;
          s.bestFocusRun = 55;
          s.sessionStartedAt = Date.now();
          s.currentQuestionId = last[0];
          s.selectedAnswers = [];
          s.selectedIndex = null;
          s.confirmed = false;
          s.answered = false;
          s.feedback = '';
          s.explanationVisible = false;
          App.state.quiz = { mode: s.mode, selectedIndex: null, confirmed: false, questions: s.run.queue.slice(), currentIndex: 0 };
          App.state.lastQuestionStartAt = Date.now();
          App.persist();
          App.navigate('study');
        },
        toggleBookmark() {
          const id = App.state.study.currentQuestionId;
          if (!id) return;
          if (App.state.bookmarks[id]) delete App.state.bookmarks[id];
          else App.state.bookmarks[id] = { id, at: Date.now() };
          App.persist();
          App.render();
        }
      };

      /***** EASTER EGGS + ACHIEVEMENTS *****/
      window.Achievements = {
        unlock(id) {
          if (!App.state.easterEggs || App.state.achievements[id]) return;
          App.state.achievements[id] = { id, at: Date.now() };
          App.flash('Traguardo sbloccato. Ti piace il caos, eh?');
          App.persist();
          App.render();
        }
      };

      const Views = {
        home() {
          const s = App.state;
          const setStats = s.pools[s.selectedPool];
          const accGlobal = percent(s.pools.global.correct, s.pools.global.attempts);
          const accSet = percent(setStats.correct, setStats.attempts);

          return UI.frag(`
            <section class="view">
              <article class="card glass hero">
                <h2>Modalità full focus, zero scuse.</h2>
                <p class="muted" style="margin-top:var(--space-xs);">Sessioni brevi, testa fredda, risultati seri.</p>
                <div class="stack" style="margin-top:var(--space-md);">
                  <button class="btn primary" data-action="resume-study">Riprendi sessione</button>
                  <button class="btn" data-action="open-setup">Avvia quiz</button>
                </div>
                <div class="chips" style="margin-top:var(--space-sm);">
                  <button class="btn soft" data-action="open-setup">Config rapida</button>
                  <button class="btn ghost" data-action="repeat-mistakes">Ripeti ultimi 3 errori</button>
                </div>
              </article>

              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Set domande</h3>
                <div class="chips">
                  <button class="btn ${s.selectedPool === 'generali' ? 'soft' : 'ghost'}" data-action="set-pool" data-pool="generali">Domande generali</button>
                  <button class="btn ${s.selectedPool === 'febbraio2026' ? 'soft' : 'ghost'}" data-action="set-pool" data-pool="febbraio2026">Domande Febbraio 2026</button>
                </div>
              </article>

              <article class="grid">
                <div class="stat glass"><span class="stat-k">Accuratezza globale</span><span class="stat-v">${accGlobal}%</span></div>
                <div class="stat glass"><span class="stat-k">Accuratezza set</span><span class="stat-v">${accSet}%</span></div>
                <div class="stat glass"><span class="stat-k">Tentativi set</span><span class="stat-v">${setStats.attempts}</span></div>
                <div class="stat glass"><span class="stat-k">Miglior serie</span><span class="stat-v">${s.stats.bestStreak}</span></div>
              </article>

              <article class="card glass">
                <h3>Nota rapida</h3>
                <p class="muted" style="margin-top:var(--space-xs);">${App.pickHomeLine()}</p>
                <div class="watermark" data-action="long-press" style="margin-top:var(--space-sm);">firma medspec // tieni premuto</div>
              </article>
            </section>
          `);
        },

        study() {
          const s = App.state;

          if (s.study.phase === 'summary' && s.study.summary) {
            const sum = s.study.summary;
            const maxTopic = Math.max(1, ...Object.values(sum.topics).map((v) => (v.ok + v.bad)));
            const topicBars = Object.keys(sum.topics).length
              ? Object.entries(sum.topics).map(([topic, val]) => {
                  const total = val.ok + val.bad;
                  const score = Math.round((total / maxTopic) * 100);
                  const rate = total ? Math.round((val.ok / total) * 100) : 0;
                  return `<div class="bar-wrap"><span class="muted">${topic} • ${rate}%</span><div class="bar"><span style="width:${score}%"></span></div></div>`;
                }).join('')
              : '<p class="muted">Nessun dato materia disponibile.</p>';

            return UI.frag(`
              <section class="view">
                <div class="scroll-hint visible">Scorri per vedere tutto</div>
                <article class="card glass">
                  <h2>Riassunto sessione</h2>
                  <p class="muted" style="margin-top:var(--space-xs);">Fine pool completata. Niente alibi.</p>
                  <div class="chips" style="margin-top:var(--space-sm);">
                    <span class="summary-badge">Corrette ${sum.correct}</span>
                    <span class="summary-badge">Sbagliate ${sum.wrong}</span>
                    <span class="summary-badge">${sum.perc}%</span>
                    <span class="summary-badge">Voto ${sum.voto30}/30</span>
                    <span class="summary-badge">Focus max ${Math.round(sum.focusBest || 0)}%</span>
                    ${sum.examPass === null ? "" : `<span class="summary-badge">Esame: ${sum.examPass ? "Sufficiente" : "Non sufficiente"}</span>`}
                  </div>
                </article>

                <article class="card glass">
                  <div class="chips" style="margin-bottom:var(--space-sm);"><span class="chip">Tempo totale ${formatMs(sum.elapsedMs)}</span><span class="chip">Tempo medio ${formatMs(sum.avgMs)}</span></div>
                  <h3 style="margin-bottom:var(--space-sm);">Chart A • Corrette vs Sbagliate</h3>
                  <div class="bar-wrap"><span class="muted">Corrette</span><div class="bar"><span style="width:${Math.round((sum.correct / Math.max(1, sum.total)) * 100)}%; background:linear-gradient(90deg, color-mix(in srgb, var(--success) 40%, transparent), var(--success));"></span></div></div>
                  <div class="bar-wrap"><span class="muted">Sbagliate</span><div class="bar"><span style="width:${Math.round((sum.wrong / Math.max(1, sum.total)) * 100)}%; background:linear-gradient(90deg, color-mix(in srgb, var(--danger) 40%, transparent), var(--danger));"></span></div></div>
                </article>

                <article class="card glass">
                  <h3 style="margin-bottom:var(--space-sm);">Chart B • Performance per materia</h3>
                  <div class="bars">${topicBars}</div>
                </article>

                <article class="card glass">
                  <div class="stack">
                    <button class="btn primary" data-action="retry-setup">Riprova stesso setup</button>
                    <button class="btn" data-action="open-setup">Cambia impostazioni quiz</button>
                    <button class="btn ghost" data-action="repeat-mistakes-run">Ripeti errori</button>
                    <button class="btn ghost" data-action="go-home">Torna alla Home</button>
                  </div>
                </article>
              </section>
            `);
          }

          if (s.study.phase !== 'running') {
            return UI.frag(`
              <section class="view">
                <article class="card glass">
                  <h2>Quiz non avviato</h2>
                  <p class="muted" style="margin-top:var(--space-xs);">Apri configurazione e scegli come devastare il quiz.</p>
                  <button class="btn primary" style="margin-top:var(--space-sm);" data-action="open-setup">Apri configurazione</button>
                </article>
              </section>
            `);
          }

          const q = Study.ensureCurrentQuestion();
          if (!q) {
            Study.finishRun();
            return UI.frag('<section class="view"><article class="card glass"><h2>Sto chiudendo il riepilogo...</h2></article></section>');
          }

          const run = s.study.run;
          const pos = run.index + 1;
          const total = Math.max(1, run.queue.length);
          const progress = Math.round((pos / total) * 100);
          const bookmarked = !!s.bookmarks[q.id];

          const correct = Array.isArray(q.correctIndices) ? q.correctIndices : (Number.isInteger(q.correctIndex) ? [q.correctIndex] : []);
          const isMulti = false;
          let answers = '';
          q.answers.forEach((ans, idx) => {
            let cls = 'answer-btn';
            if (s.study.answered) {
              if (correct.includes(idx)) cls += ' good anim-ok';
              else if (s.study.selectedAnswers.includes(idx)) cls += ' bad anim-ko';
            } else if (s.study.selectedIndex === idx) {
              cls += ' selected';
            }
            answers += `<button class="${cls}" ${s.study.answered ? 'disabled' : ''} data-answer="${idx}">${idx + 1}. ${ans}</button>`;
          });

          const side = '';


          return UI.frag(`
            <section class="view study-grid${s.study.antiPanic ? ' anti-panic' : ''}">
              <article class="question-card glass">
                <div class="quiz-top">
                  <span class="quiz-counter">Domanda ${pos}/${total}</span>
                  <div class="chips">
                    <span class="chip timer" id="timerLabel">00:00</span>
                    
                    ${s.study.distractionLock ? '<button class="btn ghost" data-action="request-exit" style="min-height:34px;padding:6px 10px;">Esci</button>' : ''}
                  </div>
                </div>
                <div class="progress"><span style="width:${progress}%"></span></div>
                <div class="focus-wrap"><div class="focus-head"><span>Focus</span><span>${Math.round(s.study.focus || 0)}%</span></div><div class="focus-bar"><span style="width:${Math.round(s.study.focus || 0)}%"></span></div></div>
                <h2 class="question-title">${q.question}</h2>
                <div class="answers">${answers}</div>
                <div class="feedback">${s.study.feedback || (s.study.mode === 'studio' ? 'Seleziona una risposta per feedback immediato.' : 'Seleziona una risposta e conferma.')}</div>
                ${s.study.mode === 'esame' && !s.study.answered ? '<div class="card glass" style="padding:12px; border-radius:16px;"><h3 style="margin:0;">Spiegazione</h3><p class="muted" style="margin-top:6px;">In modalità esame le spiegazioni si aprono solo nel riepilogo finale.</p></div>' : (s.study.answered && q.explanation ? `<div class="card glass" style="padding:12px; border-radius:16px;"><h3 style="margin:0;">Spiegazione</h3><p class="muted" style="margin-top:6px;">${q.explanation}</p></div>` : '')}
                <div class="btn-row">
                  ${!s.study.answered ? (s.study.mode === 'studio' ? '<button class="btn soft" disabled>Seleziona una risposta</button>' : `<button class="btn soft" data-action="confirm-answer" ${s.study.selectedIndex === null ? 'disabled' : ''}>Conferma</button>`) : '<button class="btn soft" data-action="next-question">Prossima domanda</button>'}
                  ${s.study.mode === 'esame' ? '' : `<button class="btn ghost" data-action="toggle-explanation">${s.study.explanationVisible ? 'Nascondi spiegazione' : 'Mostra spiegazione'}</button>`}
                </div>
              </article>
              ${side}
            </section>
          `);
        },

        stats() {
          const s = App.state;
          const acc = percent(s.pools.global.correct, s.pools.global.attempts);
          const avg = s.pools.global.attempts ? Math.round(s.stats.totalTimeMs / s.pools.global.attempts / 1000) : 0;
          const weak = weakEntries(s.stats.weakTopics);
          const mistakes = s.stats.mistakes.slice(0, 3)
            .map((m) => `<div class="row"><span>${m.topic}</span><span class="muted">${labelPool(m.pool)}</span></div>`)
            .join('') || '<p class="muted">Nessun errore recente. Non mollare comunque.</p>';

          return UI.frag(`
            <section class="view">
              <div class="scroll-hint visible">Scorri per analizzare meglio</div>
              <article class="grid">
                <div class="stat glass"><span class="stat-k">Accuratezza</span><span class="stat-v">${acc}%</span></div>
                <div class="stat glass"><span class="stat-k">Serie attuale</span><span class="stat-v">${s.stats.streak}</span></div>
                <div class="stat glass"><span class="stat-k">Miglior serie</span><span class="stat-v">${s.stats.bestStreak}</span></div>
                <div class="stat glass"><span class="stat-k">Tempo medio</span><span class="stat-v">${avg}s</span></div>
              </article>

              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Heatmap argomenti deboli</h3>
                <div class="bars">
                  ${weak.length ? weak.map(([t, v]) => `<div class="bar-wrap"><span class="muted">${t}</span><div class="bar"><span style="width:${Math.round(v)}%"></span></div></div>`).join('') : '<p class="muted">Per ora nessuna crepa. Continua così.</p>'}
                </div>
              </article>



              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Error Radar (6 materie)</h3>
                ${buildRadar(s.stats.weakTopics)}
              </article>

              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Statistiche per set</h3>
                <div class="stack">
                  <div class="row"><span>Domande generali</span><span class="muted">${percent(s.pools.generali.correct, s.pools.generali.attempts)}% (${s.pools.generali.attempts})</span></div>
                  <div class="row"><span>Domande Febbraio 2026</span><span class="muted">${percent(s.pools.febbraio2026.correct, s.pools.febbraio2026.attempts)}% (${s.pools.febbraio2026.attempts})</span></div>
                </div>
              </article>

              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Ultimi 3 errori</h3>
                <div class="stack">${mistakes}</div>
              </article>
            </section>
          `);
        },

        settings() {
          const s = App.state;
          const unlocked = Object.keys(s.achievements);
          const bookmarked = Object.keys(s.bookmarks).length;
          return UI.frag(`
            <section class="view">
              <div class="scroll-hint visible">Scorri per tutte le opzioni</div>
              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Sistema</h3>
                <div class="stack">
                  <div class="row"><span>Tema scuro</span><button class="toggle switchpill theme-switch" role="switch" aria-checked="${s.theme === 'dark'}" data-action="toggle-theme"><span class="switch-track-label"><span>☀︎</span><span>◐</span></span><span class="switch-thumb"></span></button></div>
                  <div class="row"><span>Scherzi segreti</span><button class="toggle switchpill" role="switch" aria-checked="${s.easterEggs}" data-action="toggle-eggs"></button></div>
                  <div class="row"><span>Hotkeys desktop</span><button class="toggle switchpill" role="switch" aria-checked="${s.hotkeys}" data-action="toggle-hotkeys"></button></div>
                  <div class="row"><span>Feedback vibrazione</span><button class="toggle switchpill" role="switch" aria-checked="${s.haptic}" data-action="toggle-haptic"></button></div>
                  <div class="row"><span>Anti-panico</span><button class="toggle switchpill" role="switch" aria-checked="${s.study.antiPanic}" data-action="toggle-anti"></button></div>
                  <div class="row"><span>Solo risposte secche</span><button class="toggle switchpill" role="switch" aria-checked="${s.study.seccheOnly}" data-action="toggle-secche"></button></div>
                  <div class="row"><span>Blocco distrazioni</span><button class="toggle switchpill" role="switch" aria-checked="${s.study.distractionLock}" data-action="toggle-lock"></button></div>
                </div>
              </article>

              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Traguardi</h3>
                <div class="stack">
                  <div class="row"><span>Segnate per dopo</span><span class="muted">${bookmarked}</span></div>
                  ${unlocked.length ? unlocked.map((a) => `<div class="row"><span>${a}</span><span class="muted">Sbloccato</span></div>`).join('') : '<p class="muted">Niente traguardi. Dai, fai casino con criterio.</p>'}
                </div>
              </article>

              <article class="card glass">
                <h3 style="margin-bottom:var(--space-sm);">Reset</h3>
                <div class="stack">
                  <button class="btn" data-action="reset-stats">Reset statistiche</button>
                  <button class="btn ghost" data-action="reset-session">Reset sessione</button>
                </div>
              </article>
            </section>
          `);
        },

        primoAppello() {
          return UI.frag(`
            <section class="view">
              <article class="card glass" style="text-align:center;">
                <h2>Primo appello</h2>
                <div class="empty-ill" aria-hidden="true"></div>
                <p class="muted">La banca del Primo Appello è caricata. Qui puoi avviare subito sessioni dedicate alla prova.</p>
                <button class="btn primary" style="margin-top:var(--space-sm);" data-action="import-stub">Apri setup Primo Appello</button>
                <p id="importNote" class="muted" style="margin-top:var(--space-sm);">Stato: banca disponibile.</p>
              </article>
            </section>
          `);
        }
      };

      const App = {
        state: Data.load(),
        saveTimer: 0,
        noticeTimer: 0,

        init() {
          UI.applyTheme(this.state.theme);
          this.showSplash();
          this.mount();
          this.navigate(this.state.route, true);
          this.persist();
          // Suggerimento futuro 1: mini onboarding con shortcut tastiera e setup guidato (low-risk)
          // Suggerimento futuro 2: filtro testo materie nel setup per banche domande molto grandi (low-risk)
        },

        showSplash() {
          if (!$welcomeSplash || !$splashLine) return;
          const lines = [
            'Sei entrato. Niente drammi: solo domande e sangue freddo.',
            'Apri il cervello, chiudi le scuse.',
            'Oggi studi duro, domani flexi il voto.',
            'Qui non si improvvisa: si macina.',
            'Calma feroce: una domanda alla volta.',
            'Se volevi caos, hai sbagliato app.'
          ];
          $splashLine.textContent = lines[Math.floor(Math.random() * lines.length)];
          $welcomeSplash.classList.add('open');
        },

        mount() {
          document.addEventListener('click', this.onClick.bind(this));
          document.addEventListener('keydown', this.onKeyDown.bind(this));
          this.bindLongPress();
          ScrollSystem.bind();
        },

        bindLongPress() {
          let timer = 0;
          document.addEventListener('pointerdown', (e) => {
            const t = e.target;
            if (!(t instanceof HTMLElement) || !t.closest('[data-action="long-press"]')) return;
            clearTimeout(timer);
            timer = window.setTimeout(() => window.Achievements.unlock('pressione_lunga_watermark'), 850);
          });
          ['pointerup', 'pointerleave', 'pointercancel'].forEach((evt) => {
            document.addEventListener(evt, () => clearTimeout(timer));
          });
        },

        navigate(route, skipSave) {
          this.state.scrollPositions[this.state.route] = $view.scrollTop || 0;
          const next = ROUTES.includes(route) ? route : 'home';
          this.state.route = next;
          if (!skipSave) this.persist();
          this.render();
        },

        render() {
          UI.setNav(this.state.route);
          UI.updateHeader(this.state);

          const fn = Views[this.state.route] || Views.home;
          const frag = document.createDocumentFragment();
          frag.appendChild(fn());
          $view.replaceChildren(frag);

          if (this.state.route === 'study') Modes.attachTimer();
          else TimerController.stop();

          this.renderSetupSubjects();
          this.refreshSetupButtons();
          const restore = Number(this.state.scrollPositions[this.state.route] || 0);
          requestAnimationFrame(() => { $view.scrollTop = restore; ScrollSystem.onScroll(); });
        },

        persist() {
          clearTimeout(this.saveTimer);
          this.saveTimer = window.setTimeout(() => Data.safeSet(STORAGE_KEY, this.state), 80);
        },

        flash(text) {
          this.state.notice = text;
          UI.updateHeader(this.state);
          clearTimeout(this.noticeTimer);
          this.noticeTimer = window.setTimeout(() => {
            this.state.notice = '';
            UI.updateHeader(this.state);
          }, 2200);
        },

        pickHeaderLine() {
          const lines = [
            'Meno ansia, più risposte.',
            'Costanza > panico dell’ultimo minuto.',
            'Studia adesso, ringraziati domani.',
            'Niente cinema mentale, solo risultati.'
          ];
          return lines[(this.state.stats.history.length + this.state.stats.streak) % lines.length];
        },

        pickHomeLine() {
          const lines = [
            'Se sbagli qui, al test sorridi.',
            'Una domanda fatta bene vale dieci ripassi casuali.',
            'Ritmo calmo, precisione cattiva.',
            'Micro-sessioni quotidiane, voto grosso.'
          ];
          return lines[(Date.now() + this.state.stats.streak) % lines.length];
        },

        renderSetupSubjects() {
          const grid = document.getElementById('subjectGrid');
          if (!grid) return;
          const setup = this.state.setupDraft;
          const frag = document.createDocumentFragment();
          SUBJECTS.forEach((sub) => {
            const btn = document.createElement('button');
            btn.className = `btn ghost subject-btn${setup.subjects.includes(sub) ? ' active' : ''}`;
            btn.dataset.setup = 'subject';
            btn.dataset.value = sub;
            btn.textContent = sub;
            frag.appendChild(btn);
          });
          grid.replaceChildren(frag);
        },

        refreshSetupButtons() {
          const setup = this.state.setupDraft;
          document.querySelectorAll('.option-btn').forEach((btn) => {
            const key = btn.dataset.setup;
            btn.classList.toggle('active', String(setup[key]) === String(btn.dataset.value));
          });
          this.renderDiagnostics();
        },

        openSetup() {
          this.state.setupDraft = structuredClone(this.state.lastSetup);
          UI.openSheet('setup');
          this.renderSetupSubjects();
          this.refreshSetupButtons();
          this.renderDiagnostics();
        },

        renderDiagnostics() {
          const box = document.getElementById('setupDiagnostics');
          if (!box) return;
          const setup = this.state.setupDraft;
          const bank = setup.bankSelection || 'generali';
          const rawBank = bank === 'febbraio2026' ? BANK_FEB2026_RAW : BANK_GENERALI_RAW;
          const normalized = normalizeBank(rawBank, bank);
          const subjects = setup.subjects.length ? setup.subjects : SUBJECTS;
          const filtered = normalized.filter((q) => subjects.includes(q.topic));
          const d = this.state.diagnostics || {};
          const list = [
            `Banca selezionata: ${labelPool(bank)}`,
            `Domande in banca: ${rawBank.length}`,
            `Domande dopo normalizzazione: ${normalized.length}`,
            `Domande dopo filtri: ${filtered.length}`,
            `Domande caricate nella sessione: ${Number(d.loadedCount) || 0}`,
            `Materie selezionate: ${subjects.join(', ')}`
          ];
          if (bank === 'febbraio2026' && !normalized.length) list.push("Nota: La banca dati ‘Domande Febbraio 2026’ non è ancora caricata.");
          else if (!filtered.length) list.push('Nota: Non ci sono domande disponibili con questi filtri.');
          else if (d.lastError) list.push(`Nota: ${d.lastError}`);
          box.innerHTML = list.map((x) => `<div>${x}</div>`).join('');
        },

        openQuizError(message) {
          if ($quizErrorText) $quizErrorText.textContent = message || 'Errore configurazione quiz.';
          UI.openSheet('quiz-error');
        },

        startFromSetup() {
          const setup = this.state.setupDraft;
          if (!setup.subjects.length) {
            this.flash('Scegli almeno una materia.');
            return;
          }
          this.state.lastSetup = structuredClone(setup);
          this.state.selectedPool = setup.bankSelection || 'generali';
          UI.closeSheets();
          Study.startRunFromSetup();
        },

        requestExitFlow(targetRoute) {
          this.state.study.pendingNav = targetRoute || null;
          UI.openSheet('exit');
        },

        onKeyDown(e) {
          if (InputShortcuts.handleSpacebar(e)) return;

          const key = String(e.key || '').toLowerCase();
          if (/^[a-z]$/.test(key)) {
            this.state.typedBuffer = (this.state.typedBuffer + key).slice(-30);
            if (this.state.typedBuffer.includes('retromarcio')) window.Achievements.unlock('retromarcio');
            if (this.state.typedBuffer.includes('crocodile')) window.Achievements.unlock('crocodile');
            this.persist();
          }

          if (!this.state.hotkeys || window.innerWidth < 1024 || !e.altKey) return;
          if (key === '1') this.navigate('home');
          if (key === '2') this.navigate('study');
          if (key === '3') this.navigate('stats');
          if (key === '4') this.navigate('settings');
        },

        onClick(e) {
          const target = e.target;
          if (!(target instanceof HTMLElement)) return;

          if (target.id === 'sheetBackdrop') {
            UI.closeSheets();
            return;
          }

          const nav = target.closest('[data-nav]');
          if (nav instanceof HTMLElement) {
            const route = nav.dataset.nav;
            if (this.state.route === 'study' && this.state.study.distractionLock && this.state.study.phase === 'running' && route !== 'study') {
              if (route === 'settings') {
                this.navigate('settings');
                return;
              }
              this.requestExitFlow(route);
              return;
            }
            this.navigate(route);
            return;
          }

          const answer = target.closest('[data-answer]');
          if (answer instanceof HTMLElement) {
            Study.answer(Number(answer.dataset.answer));
            return;
          }

          const node = target.closest('[data-action]');
          if (!(node instanceof HTMLElement)) return;
          const action = node.dataset.action;

          if (action === 'close-splash') {
            $welcomeSplash?.classList.remove('open');
            return;
          }

          if (action === 'logo-tap') {
            this.state.logoTapCount += 1;
            if (this.state.logoTapCount >= 5) {
              this.state.logoTapCount = 0;
              window.Achievements.unlock('5_tap_logo');
            }
            this.persist();
            this.navigate('home');
            return;
          }

          if (action === 'open-setup') { this.openSetup(); return; }
          if (action === 'close-setup') { UI.closeSheets(); return; }
          if (action === 'start-setup') { this.startFromSetup(); return; }
          if (action === 'subjects-all') { this.state.setupDraft.subjects = SUBJECTS.slice(); this.renderSetupSubjects(); return; }
          if (action === 'subjects-clear') { this.state.setupDraft.subjects = []; this.renderSetupSubjects(); return; }

          if (action === 'go-study') { this.openSetup(); return; }
          if (action === 'resume-study') {
            if (this.state.study.phase === 'running') this.navigate('study');
            else this.openSetup();
            return;
          }

          if (action === 'next-question') { Study.next(); return; }
          if (action === 'confirm-answer') { Study.finalize(); return; }
          if (action === 'toggle-explanation') {
            this.state.study.explanationVisible = !this.state.study.explanationVisible;
            this.persist();
            this.render();
            return;
          }
          if (action === 'toggle-bookmark') { Study.toggleBookmark(); return; }

          if (action === 'set-pool') {
            const pool = node.dataset.pool;
            if (pool !== 'generali' && pool !== 'febbraio2026') return;
            this.state.selectedPool = pool;
            this.state.lastSetup.bankSelection = pool;
            this.state.setupDraft.bankSelection = pool;
            this.persist();
            this.render();
            return;
          }

          if (action === 'repeat-mistakes') { Study.repeatMistakesRun(); return; }
          if (action === 'repeat-mistakes-run') { Study.repeatMistakesRun(); return; }
          if (action === 'retry-setup') { Study.startRunFromSetup(); return; }
          if (action === 'go-home') { this.navigate('home'); return; }

          if (action === 'request-exit') { this.requestExitFlow(null); return; }
          if (action === 'exit-continue') { UI.closeSheets(); return; }
          if (action === 'quiz-error-setup') { UI.closeSheets(); this.openSetup(); return; }
          if (action === 'quiz-error-home') { UI.closeSheets(); this.navigate('home'); return; }
          if (action === 'quiz-error-select-generali') {
            this.state.setupDraft.bankSelection = 'generali';
            this.state.lastSetup.bankSelection = 'generali';
            this.state.selectedPool = 'generali';
            UI.closeSheets();
            this.openSetup();
            return;
          }
          if (action === 'quiz-error-back') { UI.closeSheets(); return; }
          if (action === 'exit-home') {
            UI.closeSheets();
            this.state.study.phase = 'idle';
            this.state.study.resumeAvailable = false;
            TimerController.stop();
            this.navigate('home');
            return;
          }
          if (action === 'exit-settings') {
            UI.closeSheets();
            this.navigate('settings');
            return;
          }

          if (action === 'toggle-theme') {
            this.state.theme = this.state.theme === 'dark' ? 'light' : 'dark';
            UI.applyTheme(this.state.theme);
            this.persist();
            this.render();
            return;
          }
          if (action === 'toggle-eggs') { this.state.easterEggs = !this.state.easterEggs; this.persist(); this.render(); return; }
          if (action === 'toggle-hotkeys') { this.state.hotkeys = !this.state.hotkeys; this.persist(); this.render(); return; }
          if (action === 'toggle-haptic') { this.state.haptic = !this.state.haptic; this.persist(); this.render(); return; }
          if (action === 'toggle-anti') { this.state.study.antiPanic = !this.state.study.antiPanic; this.persist(); this.render(); return; }
          if (action === 'toggle-secche') { this.state.study.seccheOnly = !this.state.study.seccheOnly; this.persist(); this.render(); return; }
          if (action === 'toggle-lock') { this.state.study.distractionLock = !this.state.study.distractionLock; this.persist(); this.render(); return; }

          if (action === 'reset-stats') {
            this.state.pools = structuredClone(defaultState.pools);
            this.state.stats = structuredClone(defaultState.stats);
            this.state.questionMeta = {};
            this.persist();
            this.render();
            return;
          }

          if (action === 'reset-session') {
            this.state.study = structuredClone(defaultState.study);
            TimerController.stop();
            this.persist();
            this.render();
            return;
          }

          if (action === 'import-stub') {
            this.state.selectedPool = 'febbraio2026';
            this.state.setupDraft.bankSelection = 'febbraio2026';
            this.state.lastSetup.bankSelection = 'febbraio2026';
            const note = document.getElementById('importNote');
            if (note) note.textContent = 'Banca Primo Appello selezionata. Configura e avvia.';
            this.openSetup();
            return;
          }
        }
      };

      document.addEventListener('click', (e) => {
        const t = e.target;
        if (!(t instanceof HTMLElement)) return;

        if (t.dataset.setup === 'subject') {
          const sub = t.dataset.value;
          const list = App.state.setupDraft.subjects;
          if (list.includes(sub)) App.state.setupDraft.subjects = list.filter((x) => x !== sub);
          else App.state.setupDraft.subjects = [...list, sub];
          App.renderSetupSubjects();
          return;
        }

        if (t.dataset.setup && t.dataset.setup !== 'subject') {
          App.state.setupDraft[t.dataset.setup] = t.dataset.value;
          if (t.dataset.setup === 'bankSelection') App.state.selectedPool = t.dataset.value;
          App.refreshSetupButtons();
        }
      });

      function percent(correct, attempts) {
        const a = Number(attempts) || 0;
        if (!a) return 0;
        return Math.round(((Number(correct) || 0) / a) * 100);
      }

      function weakEntries(map) {
        const entries = Object.entries(map || {});
        const max = Math.max(1, ...entries.map((x) => Number(x[1]) || 0));
        return entries
          .map(([topic, value]) => [topic, ((Number(value) || 0) / max) * 100])
          .sort((a, b) => b[1] - a[1]);
      }

      function shuffled(arr) {
        const out = arr.slice();
        for (let i = out.length - 1; i > 0; i -= 1) {
          const j = Math.floor(Math.random() * (i + 1));
          [out[i], out[j]] = [out[j], out[i]];
        }
        return out;
      }

      function labelPool(pool) {
        return pool === 'febbraio2026' ? 'Domande Febbraio 2026' : 'Domande generali';
      }

      function formatMs(ms) {
        const sec = Math.max(0, Math.round((Number(ms) || 0) / 1000));
        const m = String(Math.floor(sec / 60)).padStart(2, '0');
        const s = String(sec % 60).padStart(2, '0');
        return `${m}:${s}`;
      }

      function buildRadar(map) {
        try {
          const vals = SUBJECTS.map((s) => Math.min(100, (Number(map[s]) || 0) * 12));
          const size = 240;
          const cx = 120;
          const cy = 120;
          const r = 84;
          const rings = [0.25, 0.5, 0.75, 1].map((k) => `<polygon class="radar-grid" points="${SUBJECTS.map((_,i)=>{const a=(Math.PI*2*i/SUBJECTS.length)-Math.PI/2; return `${cx+Math.cos(a)*r*k},${cy+Math.sin(a)*r*k}`;}).join(' ')}" />`).join('');
          const axes = SUBJECTS.map((_,i)=>{const a=(Math.PI*2*i/SUBJECTS.length)-Math.PI/2; return `<line class="radar-grid" x1="${cx}" y1="${cy}" x2="${cx+Math.cos(a)*r}" y2="${cy+Math.sin(a)*r}"/>`;}).join('');
          const points = SUBJECTS.map((_,i)=>{const a=(Math.PI*2*i/SUBJECTS.length)-Math.PI/2; const rv=r*(vals[i]/100); return `${cx+Math.cos(a)*rv},${cy+Math.sin(a)*rv}`;}).join(' ');
          const labels = SUBJECTS.map((sub,i)=>{const a=(Math.PI*2*i/SUBJECTS.length)-Math.PI/2; const lx=cx+Math.cos(a)*(r+22); const ly=cy+Math.sin(a)*(r+22); return `<text x="${lx}" y="${ly}" font-size="10" text-anchor="middle" fill="currentColor">${sub.slice(0,4)}</text>`;}).join('');
          const fallback = SUBJECTS.map((sub,i)=>`<div class="bar-wrap"><span class="muted">${sub}</span><div class="bar"><span style="width:${vals[i]}%"></span></div></div>`).join('');
          return `<div class="radar-wrap"><svg class="radar-svg" viewBox="0 0 ${size} ${size}" aria-label="Radar errori">${rings}${axes}<polygon class="radar-area" points="${points}"></polygon>${labels}</svg><div class="bars">${fallback}</div></div>`;
        } catch (_) {
          return `<div class="bars">${SUBJECTS.map((sub)=>`<div class="bar-wrap"><span class="muted">${sub}</span><div class="bar"><span style="width:0%"></span></div></div>`).join('')}</div>`;
        }
      }

      // API di routing richieste:
      // App.navigate("home")
      // App.navigate("study")
      // App.navigate("stats")
      // App.navigate("settings")
      // App.navigate("primoAppello")

      window.App = App;
      App.init();
    })();
  </script>
</body>
</html>
